!function(){"use strict";var i={542:function(e,t,n){t.qI=void 0,t.xP=d,t.yj=f,t.Vg=function(e){if(!e[l]){var t={subscribers:[],automaticSubscribers:[],config:{user:{id:"",isAuthenticated:!1},dataAnalyticsAPIPath:null,loggingAPIPath:null,country:"GB",legacyWeb:"",gtmId:""},digitalData:d(c)};e[l]=t}return e[l]};var u=r(n(825)),a=n(385),i=r(n(540));function r(e){return e&&e.__esModule?e:{default:e}}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function o(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach(function(e){var t,n,i;t=r,n=e,i=o[e],(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}var c="1",l="sm_metrics_tracker_do_not_touch_this";function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return{page:{pageInfo:{pageId:"",attributes:{},pathname:""}},events:[],components:[],user:{ep201:(0,i.default)("ep201"),ep202:(0,i.default)("ep202"),id:e}}}function f(e){if(!e[l])throw new Error("Please initialize MetricsTracker with a userId before tracking events.");return e[l]}t.qI=function(s){return{initialize:function(e){throw new Error("initialize not implemented")},reset:function(){throw new Error("reset not implemented")},update:function(e){var t=f(s);return t.config=o(o({},t.config),e),t},updateUserConfig:function(e){var t=f(s);return t.config.user=o(o({},t.config.user),e),t},getSubscribers:function(){return f(s).subscribers},getAutomaticSubscribers:function(){return f(s).automaticSubscribers},track:function(t){var e,n,i,r=f(s);if(""===r.config.user.id)throw new Error("Please initialize MetricsTracker with a userId before tracking events.");var o=t;null!=t&&null!==(e=t.data)&&void 0!==e&&e.email&&(o.data.email=(0,a.maskEmail)(t.data.email)),null!=t&&null!==(n=t.data)&&void 0!==n&&null!==(i=n.data)&&void 0!==i&&i.email&&(o.data.data.email=(0,a.maskEmail)(t.data.data.email)),u.default[t.name]&&(r.digitalData.events.push(t),u.default.COMPONENT_ADD===t.name&&r.digitalData.components.push(t.data),t.name!==u.default.PAGE_VIEW&&t.name!==u.default.VIRTUAL_PAGE_VIEW||(r.digitalData=(0,a.pageViewMutation)(t,r.digitalData)),r.subscribers.forEach(function(e){e(t,r.config)}))},automaticTrack:function(t){var n=f(s);n.automaticSubscribers.forEach(function(e){e(t,n.config)})},addSubscriber:function(e){f(s).subscribers.push(e)},addAutomaticSubscriber:function(e){f(s).automaticSubscribers.push(e)},getConfig:function(){return f(s).config},getDigitalData:function(){return f(s).digitalData}}}},385:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.cloneDigitalData=a,t.maskEmail=function(e){return e?e.replace(/^(.*)(@.*)$/,function(e,t,n){return t.replace(/./g,"*")+n}):""},t.maskString=function(e){return e?1===e.length?"*":2===e.length?"**":e.replace(/^(.)(.*)(.)$/,function(e,t,n,i){return t+n.replace(/./g,"*")+i}):""},t.pageViewMutation=function(e,t){if(e.name!==u.default.PAGE_VIEW&&e.name!==u.default.VIRTUAL_PAGE_VIEW)return t;var n=a(t),i=e.data,r=i.pageId,o=i.pathname,s=i.attributes;return n.page.pageInfo={pageId:r,pathname:o,attributes:s},n};var i,u=(i=n(825))&&i.__esModule?i:{default:i};function a(e){return JSON.parse(JSON.stringify(e))}},825:function(e,t){var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.USER_SUBSCRIPTION_STATUS=void 0,function(e){e.PAGE_VIEW="PAGE_VIEW",e.VIRTUAL_PAGE_VIEW="VIRTUAL_PAGE_VIEW",e.COMPONENT_ADD="COMPONENT_ADD",e.COMPONENT_ERROR="COMPONENT_ERROR",e.DATA_FETCH_ERROR="DATA_FETCH_ERROR",e.ELEMENT_INTERACTION="ELEMENT_INTERACTION",e.GDPR_ACTION="GDPR_ACTION",e.NAVIGATION="NAVIGATION",e.USER_METADATA="USER_METADATA"}(n||(n={})),function(e){e.NEW="new",e.CHURNED="churned",e.ACTIVE="active"}(i||(t.USER_SUBSCRIPTION_STATUS=i={})),t.default=n},540:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("object"!=typeof window)return"";for(var n="".concat(e,"="),i=decodeURIComponent(document.cookie).split(";"),r=0;r<i.length;r+=1){for(var o=i[r];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(n))return o.substring(n.length,o.length)}return t||""},e.exports=t.default}},r={};function u(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={exports:{}};return i[e](n,n.exports,u),n.exports}!function(){var a=function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)};Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var i=u(542),c=window,r="__smlib_metrics_registered_subscribers__";function n(e,t){void 0===t&&(t={});var n,i="object"==typeof c.CustomEvent,r=c.document;if(i){var o=!!t.bubbles,s=!!t.cancelable,u=a(a({},t),{bubbles:void 0,cancelable:void 0});(n=r.createEvent("CustomEvent")).initCustomEvent(e,o,s,u)}else n=new c.CustomEvent(e,t);r.dispatchEvent(n)}var o=window,t=(0,i.qI)(o),e=a(a({},t),{initialize:function(e){var t=(0,i.Vg)(o);return t.config=e,t.digitalData=(0,i.xP)(e.user.id),n("MetricsInitialized"),t},reset:function(){var t=this,e=(0,i.yj)(o);e.digitalData=(0,i.xP)(e.config.user.id),e.subscribers=[],e.automaticSubscribers=[];var n=(c[r]||(c[r]={}),c[r]);return Object.keys(n).forEach(function(e){t.addSubscriber(n[e])}),e},addSubscriber:function(e){t.addSubscriber(e),n("MetricsSubscriberAdded")}}),s=window;s.SM=s.SM||{},s.SM.MetricsTracker=e,n("MetricsReady")}()}();!function(){var i={764:function(P,R,n){"use strict";n.r(R),n.d(R,{Identify:function(){return Vt},Revenue:function(){return Kt},Types:function(){return N},add:function(){return Gt},createInstance:function(){return Wt},flush:function(){return Ht},getDeviceId:function(){return Qt},getSessionId:function(){return Jt},getUserId:function(){return Yt},groupIdentify:function(){return Zt},identify:function(){return Xt},init:function(){return en},logEvent:function(){return tn},remove:function(){return nn},reset:function(){return rn},revenue:function(){return on},runQueuedFunctions:function(){return ht},setDeviceId:function(){return sn},setGroup:function(){return un},setOptOut:function(){return an},setSessionId:function(){return cn},setTransport:function(){return ln},setUserId:function(){return dn},track:function(){return fn}});var N={};n.r(N),n.d(N,{IdentifyOperation:function(){return S},LogLevel:function(){return zt},PluginType:function(){return Dt},RevenueProperty:function(){return k},ServerZone:function(){return Ft},SpecialEventType:function(){return Ut},Status:function(){return Bt},TransportType:function(){return $t}});var x=function(e,t){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},x(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}x(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var p,W=function(){return W=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},W.apply(this,arguments)};function K(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function G(e,s,u,a){return new(u||(u=Promise))(function(n,t){function i(e){try{o(a.next(e))}catch(e){t(e)}}function r(e){try{o(a.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):(t=e.value,t instanceof u?t:new u(function(e){e(t)})).then(i,r)}o((a=a.apply(e,s||[])).next())})}function H(n,i){var r,o,s,u,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function e(t){return function(e){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,t[0]&&(a=0)),a;)try{if(r=1,o&&(s=2&t[0]?o.return:t[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,t[1])).done)return s;switch(o=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,o=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!((s=(s=a.trys).length>0&&s[s.length-1])||6!==t[0]&&2!==t[0])){a=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){a.label=t[1];break}if(6===t[0]&&a.label<s[1]){a.label=s[1],s=t;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(t);break}s[2]&&a.ops.pop(),a.trys.pop();continue}t=i.call(n,a)}catch(e){t=[6,e],o=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}function _(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Q(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function l(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError,function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Warn=2]="Warn",e[e.Verbose=3]="Verbose",e[e.Debug=4]="Debug"}(p||(p={}));var t=function(t){return function(){var e=W({},t.config);return{logger:e.loggerProvider,logLevel:e.logLevel}}},A=function(e,t){var n,i;t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"");try{for(var r=_(t.split(".")),o=r.next();!o.done;o=r.next()){var s=o.value;if(!(s in e))return;e=e[s]}}catch(e){n={error:e}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return e},r=function(s,u){return function(){var t,e,n={};try{for(var i=_(u),r=i.next();!r.done;r=i.next()){var o=r.value;n[o]=A(s,o)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return n}},o=function(a,c,l,d,f){return void 0===f&&(f=null),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=l(),i=n.logger,r=n.logLevel;if(r&&r<p.Debug||!r||!i)return a.apply(f,e);var o,s={type:"invoke public method",name:c,args:e,stacktrace:(o=1,void 0===o&&(o=0),((new Error).stack||"").split("\n").slice(2+o).map(function(e){return e.trim()})),time:{start:(new Date).toISOString()},states:{}};d&&s.states&&(s.states.before=d());var u=a.apply(f,e);return u&&u.promise?u.promise.then(function(){d&&s.states&&(s.states.after=d()),s.time&&(s.time.end=(new Date).toISOString()),i.debug(JSON.stringify(s,null,2))}):(d&&s.states&&(s.states.after=d()),s.time&&(s.time.end=(new Date).toISOString()),i.debug(JSON.stringify(s,null,2))),u}},J="AMP",U="".concat(J,"_unsent"),j="https://api2.amplitude.com/2/httpapi",X=function(e,t,n){return void 0===t&&(t=""),void 0===n&&(n=10),[J,t,e.substring(0,n)].filter(Boolean).join("_")},y=function(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==n.g?n.g:void 0},ee=function(){var e,t=y();return(null===(e=null==t?void 0:t.location)||void 0===e?void 0:e.search)?t.location.search.substring(1).split("&").filter(Boolean).reduce(function(e,t){var n=t.split("=",2),i=D(n[0]),r=D(n[1]);return r?(e[i]=r,e):e},{}):{}},D=function(e){void 0===e&&(e="");try{return decodeURIComponent(e)}catch(e){return""}},C=function(){function e(){}return e.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:M(),platform:"Web",os:void 0,deviceModel:void 0}},e}(),M=function(){return"undefined"!=typeof navigator&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},V=function(){function e(){this.queue=[]}return e.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},e.prototype.setEventReceiver=function(t){this.receiver=t,this.queue.length>0&&(this.queue.forEach(function(e){t(e)}),this.queue=[])},e}(),s=function(){return s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)},d=function(t,n){var e=typeof t;if(e!==typeof n)return!1;for(var i=0,r=["string","number","boolean","undefined"];i<r.length;i++)if(r[i]===e)return t===n;if(null==t&&null==n)return!0;if(null==t||null==n)return!1;if(t.length!==n.length)return!1;var o=Array.isArray(t),s=Array.isArray(n);if(o!==s)return!1;if(!o||!s){var u=Object.keys(t).sort(),a=Object.keys(n).sort();if(!d(u,a))return!1;var c=!0;return Object.keys(t).forEach(function(e){d(t[e],n[e])||(c=!1)}),c}for(var l=0;l<t.length;l++)if(!d(t[l],n[l]))return!1;return!0};Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,i=new Array(n);n--;)i[n]=[t[n],e[t[n]]];return i});var Y,q=function(){function e(){this.identity={userProperties:{}},this.listeners=new Set}return e.prototype.editIdentity=function(){var e=this,t=s({},this.identity.userProperties),v=s(s({},this.identity),{userProperties:t});return{setUserId:function(e){return v.userId=e,this},setDeviceId:function(e){return v.deviceId=e,this},setUserProperties:function(e){return v.userProperties=e,this},setOptOut:function(e){return v.optOut=e,this},updateUserProperties:function(e){for(var t=v.userProperties||{},n=0,i=Object.entries(e);n<i.length;n++){var r=i[n],o=r[0],s=r[1];switch(o){case"$set":for(var u=0,a=Object.entries(s);u<a.length;u++){var c=a[u],l=c[0],d=c[1];t[l]=d}break;case"$unset":for(var f=0,p=Object.keys(s);f<p.length;f++)delete t[l=p[f]];break;case"$clearAll":t={}}}return v.userProperties=t,this},commit:function(){return e.setIdentity(v),this}}},e.prototype.getIdentity=function(){return s({},this.identity)},e.prototype.setIdentity=function(t){var e=s({},this.identity);this.identity=s({},t),d(e,this.identity)||this.listeners.forEach(function(e){e(t)})},e.prototype.addIdentityListener=function(e){this.listeners.add(e)},e.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},e}(),u="undefined"!=typeof globalThis?globalThis:void 0!==n.g?n.g:self,L=function(){function t(){this.identityStore=new q,this.eventBridge=new V,this.applicationContextProvider=new C}return t.getInstance=function(e){return u.analyticsConnectorInstances||(u.analyticsConnectorInstances={}),u.analyticsConnectorInstances[e]||(u.analyticsConnectorInstances[e]=new t),u.analyticsConnectorInstances[e]},t}(),Z=function(e){return void 0===e&&(e="$default_instance"),L.getInstance(e)};!function(e){e.BEFORE="before",e.ENRICHMENT="enrichment",e.DESTINATION="destination"}(Y||(Y={}));var O,te=function(){function e(){this.name="identity",this.type=Y.BEFORE,this.identityStore=Z().identityStore}return e.prototype.execute=function(n){return G(this,void 0,void 0,function(){var t;return H(this,function(e){return(t=n.user_properties)&&this.identityStore.editIdentity().updateUserProperties(t).commit(),[2,n]})})},e.prototype.setup=function(t){return G(this,void 0,void 0,function(){return H(this,function(e){return t.instanceName&&(this.identityStore=Z(t.instanceName).identityStore),[2]})})},e}(),a=function(e){return{promise:e||Promise.resolve()}};!function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.PayloadTooLarge="payload_too_large",e.Invalid="invalid",e.Failed="failed",e.Timeout="Timeout",e.SystemError="SystemError"}(O||(O={}));var c,E=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=O.Unknown),{event:e,code:t,message:n}};!function(e){e.US="US",e.EU="EU"}(c||(c={}));var f="Amplitude Logger ",z=function(){function e(){this.logLevel=p.None}return e.prototype.disable=function(){this.logLevel=p.None},e.prototype.enable=function(e){void 0===e&&(e=p.Warn),this.logLevel=e},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<p.Verbose||console.log("".concat(f,"[Log]: ").concat(e.join(" ")))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<p.Warn||console.warn("".concat(f,"[Warn]: ").concat(e.join(" ")))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<p.Error||console.error("".concat(f,"[Error]: ").concat(e.join(" ")))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<p.Debug||console.log("".concat(f,"[Debug]: ").concat(e.join(" ")))},e}(),v=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:p.Warn,loggerProvider:new z,optOut:!1,serverUrl:j,serverZone:c.US,useBatch:!1}},F=function(){function e(e){var t,n,i,r;this._optOut=!1;var o=v();this.apiKey=e.apiKey,this.flushIntervalMillis=null!==(t=e.flushIntervalMillis)&&void 0!==t?t:o.flushIntervalMillis,this.flushMaxRetries=e.flushMaxRetries||o.flushMaxRetries,this.flushQueueSize=e.flushQueueSize||o.flushQueueSize,this.instanceName=e.instanceName||o.instanceName,this.loggerProvider=e.loggerProvider||o.loggerProvider,this.logLevel=null!==(n=e.logLevel)&&void 0!==n?n:o.logLevel,this.minIdLength=e.minIdLength,this.plan=e.plan,this.ingestionMetadata=e.ingestionMetadata,this.optOut=null!==(i=e.optOut)&&void 0!==i?i:o.optOut,this.serverUrl=e.serverUrl,this.serverZone=e.serverZone||o.serverZone,this.storageProvider=e.storageProvider,this.transportProvider=e.transportProvider,this.useBatch=null!==(r=e.useBatch)&&void 0!==r?r:o.useBatch,this.loggerProvider.enable(this.logLevel);var s=$(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=s.serverZone,this.serverUrl=s.serverUrl}return Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:!1,configurable:!0}),e}(),B=function(e,t){return e===c.EU?t?"https://api.eu.amplitude.com/batch":"https://api.eu.amplitude.com/2/httpapi":t?"https://api2.amplitude.com/batch":j},$=function(e,t,n){if(void 0===e&&(e=""),void 0===t&&(t=v().serverZone),void 0===n&&(n=v().useBatch),e)return{serverUrl:e,serverZone:void 0};var i=["US","EU"].includes(t)?t:v().serverZone;return{serverZone:i,serverUrl:B(i,n)}};function h(e){var t="";try{"body"in e&&(t=JSON.stringify(e.body))}catch(e){}return t}var g,b,m,ne,ie=function(){function e(){this.name="amplitude",this.type=Y.DESTINATION,this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduled=null,this.queue=[]}return e.prototype.setup=function(i){var r;return G(this,void 0,void 0,function(){var t,n=this;return H(this,function(e){switch(e.label){case 0:return this.config=i,this.storageKey="".concat(U,"_").concat(this.config.apiKey.substring(0,10)),[4,null===(r=this.config.storageProvider)||void 0===r?void 0:r.get(this.storageKey)];case 1:return t=e.sent(),this.saveEvents(),t&&t.length>0&&Promise.all(t.map(function(e){return n.execute(e)})).catch(),[2,Promise.resolve(void 0)]}})})},e.prototype.execute=function(n){var i=this;return new Promise(function(t){var e={event:n,attempts:0,callback:function(e){return t(e)},timeout:0};i.addToQueue(e)})},e.prototype.addToQueue=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.filter(function(e){return e.attempts<t.config.flushMaxRetries?(e.attempts+=1,!0):(t.fulfillRequest([e],500,"Event rejected due to exceeded retry count"),!1)}).forEach(function(e){t.queue=t.queue.concat(e),0!==e.timeout?setTimeout(function(){e.timeout=0,t.schedule(0)},e.timeout):t.schedule(t.config.flushIntervalMillis)}),this.saveEvents()},e.prototype.schedule=function(e){var t=this;this.scheduled||(this.scheduled=setTimeout(function(){t.flush(!0).then(function(){t.queue.length>0&&t.schedule(e)})},e))},e.prototype.flush=function(a){return void 0===a&&(a=!1),G(this,void 0,void 0,function(){var i,o,s,u=this;return H(this,function(e){switch(e.label){case 0:return i=[],o=[],this.queue.forEach(function(e){return 0===e.timeout?i.push(e):o.push(e)}),this.queue=o,this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),t=i,n=this.config.flushQueueSize,r=Math.max(n,1),s=t.reduce(function(e,t,n){var i=Math.floor(n/r);return e[i]||(e[i]=[]),e[i].push(t),e},[]),[4,Promise.all(s.map(function(e){return u.send(e,a)}))];case 1:return e.sent(),[2]}var t,n,r})})},e.prototype.send=function(u,a){return void 0===a&&(a=!0),G(this,void 0,void 0,function(){var n,i,r,o,s;return H(this,function(e){switch(e.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(u,400,"Event rejected due to missing API key")];n={api_key:this.config.apiKey,events:u.map(function(e){var t=e.event;return t.extra,K(t,["extra"])}),options:{min_id_length:this.config.minIdLength}},e.label=1;case 1:return e.trys.push([1,3,,4]),i=$(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(i,n)];case 2:return null===(r=e.sent())?(this.fulfillRequest(u,0,"Unexpected error occurred"),[2]):a?(this.handleResponse(r,u),[3,4]):("body"in r?this.fulfillRequest(u,r.statusCode,"".concat(r.status,": ").concat(h(r))):this.fulfillRequest(u,r.statusCode,r.status),[2]);case 3:return o=e.sent(),s=(t=o)instanceof Error?t.message:String(t),this.config.loggerProvider.error(s),this.fulfillRequest(u,0,s),[3,4];case 4:return[2]}var t})})},e.prototype.handleResponse=function(e,t){var n=e.status;switch(n){case O.Success:this.handleSuccessResponse(e,t);break;case O.Invalid:this.handleInvalidResponse(e,t);break;case O.PayloadTooLarge:this.handlePayloadTooLargeResponse(e,t);break;case O.RateLimit:this.handleRateLimitResponse(e,t);break;default:this.config.loggerProvider.warn("{code: 0, error: \"Status '".concat(n,"' provided for ").concat(t.length,' events"}')),this.handleOtherResponse(t)}},e.prototype.handleSuccessResponse=function(e,t){this.fulfillRequest(t,e.statusCode,"Event tracked successfully")},e.prototype.handleInvalidResponse=function(n,e){var i=this;if(n.body.missingField||n.body.error.startsWith("Invalid API key"))this.fulfillRequest(e,n.statusCode,n.body.error);else{var t=l(l(l(l([],Q(Object.values(n.body.eventsWithInvalidFields)),!1),Q(Object.values(n.body.eventsWithMissingFields)),!1),Q(Object.values(n.body.eventsWithInvalidIdLengths)),!1),Q(n.body.silencedEvents),!1).flat(),r=new Set(t),o=e.filter(function(e,t){if(!r.has(t))return!0;i.fulfillRequest([e],n.statusCode,n.body.error)});o.length>0&&this.config.loggerProvider.warn(h(n)),this.addToQueue.apply(this,l([],Q(o),!1))}},e.prototype.handlePayloadTooLargeResponse=function(e,t){1!==t.length?(this.config.loggerProvider.warn(h(e)),this.config.flushQueueSize/=2,this.addToQueue.apply(this,l([],Q(t),!1))):this.fulfillRequest(t,e.statusCode,e.body.error)},e.prototype.handleRateLimitResponse=function(n,e){var i=this,t=Object.keys(n.body.exceededDailyQuotaUsers),r=Object.keys(n.body.exceededDailyQuotaDevices),o=n.body.throttledEvents,s=new Set(t),u=new Set(r),a=new Set(o),c=e.filter(function(e,t){if(!(e.event.user_id&&s.has(e.event.user_id)||e.event.device_id&&u.has(e.event.device_id)))return a.has(t)&&(e.timeout=i.throttleTimeout),!0;i.fulfillRequest([e],n.statusCode,n.body.error)});c.length>0&&this.config.loggerProvider.warn(h(n)),this.addToQueue.apply(this,l([],Q(c),!1))},e.prototype.handleOtherResponse=function(e){var t=this;this.addToQueue.apply(this,l([],Q(e.map(function(e){return e.timeout=e.attempts*t.retryTimeout,e})),!1))},e.prototype.fulfillRequest=function(e,t,n){this.saveEvents(),e.forEach(function(e){return e.callback(E(e.event,t,n))})},e.prototype.saveEvents=function(){if(this.config.storageProvider){var e=Array.from(this.queue.map(function(e){return e.event}));this.config.storageProvider.set(this.storageKey,e)}},e}(),w=function(e){return e?(e^16*Math.random()>>e/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,w)};!function(e){e.SET="$set",e.SET_ONCE="$setOnce",e.ADD="$add",e.APPEND="$append",e.PREPEND="$prepend",e.REMOVE="$remove",e.PREINSERT="$preInsert",e.POSTINSERT="$postInsert",e.UNSET="$unset",e.CLEAR_ALL="$clearAll"}(g||(g={})),function(e){e.REVENUE_PRODUCT_ID="$productId",e.REVENUE_QUANTITY="$quantity",e.REVENUE_PRICE="$price",e.REVENUE_TYPE="$revenueType",e.REVENUE="$revenue"}(b||(b={})),(ne=m||(m={})).IDENTIFY="$identify",ne.GROUP_IDENTIFY="$groupidentify",ne.REVENUE="revenue_amount";var re,oe=function(e){if(Object.keys(e).length>1e3)return!1;for(var t in e){var n=e[t];if(!se(t,n))return!1}return!0},se=function(e,t){var n,i;if("string"!=typeof e)return!1;if(Array.isArray(t)){var r=!0;try{for(var o=_(t),s=o.next();!s.done;s=o.next()){var u=s.value;if(Array.isArray(u))return!1;if("object"==typeof u)r=r&&oe(u);else if(!["number","string"].includes(typeof u))return!1;if(!r)return!1}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}else{if(null==t)return!1;if("object"==typeof t)return oe(t);if(!["number","string","boolean"].includes(typeof t))return!1}return!0},ue=function(){function e(){this._propertySet=new Set,this._properties={}}return e.prototype.getUserProperties=function(){return W({},this._properties)},e.prototype.set=function(e,t){return this._safeSet(g.SET,e,t),this},e.prototype.setOnce=function(e,t){return this._safeSet(g.SET_ONCE,e,t),this},e.prototype.append=function(e,t){return this._safeSet(g.APPEND,e,t),this},e.prototype.prepend=function(e,t){return this._safeSet(g.PREPEND,e,t),this},e.prototype.postInsert=function(e,t){return this._safeSet(g.POSTINSERT,e,t),this},e.prototype.preInsert=function(e,t){return this._safeSet(g.PREINSERT,e,t),this},e.prototype.remove=function(e,t){return this._safeSet(g.REMOVE,e,t),this},e.prototype.add=function(e,t){return this._safeSet(g.ADD,e,t),this},e.prototype.unset=function(e){return this._safeSet(g.UNSET,e,"-"),this},e.prototype.clearAll=function(){return this._properties={},this._properties[g.CLEAR_ALL]="-",this},e.prototype._safeSet=function(e,t,n){if(this._validate(e,t,n)){var i=this._properties[e];return void 0===i&&(i={},this._properties[e]=i),i[t]=n,this._propertySet.add(t),!0}return!1},e.prototype._validate=function(e,t,n){return void 0===this._properties[g.CLEAR_ALL]&&!this._propertySet.has(t)&&(e===g.ADD?"number"==typeof n:e===g.UNSET||e===g.REMOVE||se(t,n))},e}(),ae=function(){function e(){this.productId="",this.quantity=1,this.price=0}return e.prototype.setProductId=function(e){return this.productId=e,this},e.prototype.setQuantity=function(e){return e>0&&(this.quantity=e),this},e.prototype.setPrice=function(e){return this.price=e,this},e.prototype.setRevenueType=function(e){return this.revenueType=e,this},e.prototype.setRevenue=function(e){return this.revenue=e,this},e.prototype.setEventProperties=function(e){return oe(e)&&(this.properties=e),this},e.prototype.getEventProperties=function(){var e=this.properties?W({},this.properties):{};return e[b.REVENUE_PRODUCT_ID]=this.productId,e[b.REVENUE_QUANTITY]=this.quantity,e[b.REVENUE_PRICE]=this.price,e[b.REVENUE_TYPE]=this.revenueType,e[b.REVENUE]=this.revenue,e},e}(),ce=function(e,t){return W(W({},t),{event_type:m.IDENTIFY,user_properties:e.getUserProperties()})},le=function(){function e(e){this.client=e,this.queue=[],this.applying=!1,this.plugins=[]}return e.prototype.register=function(t,n){return G(this,void 0,void 0,function(){return H(this,function(e){switch(e.label){case 0:return[4,t.setup(n,this.client)];case 1:return e.sent(),this.plugins.push(t),[2]}})})},e.prototype.deregister=function(i){var r;return G(this,void 0,void 0,function(){var t,n;return H(this,function(e){switch(e.label){case 0:return t=this.plugins.findIndex(function(e){return e.name===i}),n=this.plugins[t],this.plugins.splice(t,1),[4,null===(r=n.teardown)||void 0===r?void 0:r.call(n)];case 1:return e.sent(),[2]}})})},e.prototype.reset=function(e){this.applying=!1,this.plugins.map(function(e){var t;return null===(t=e.teardown)||void 0===t?void 0:t.call(e)}),this.plugins=[],this.client=e},e.prototype.push=function(t){var n=this;return new Promise(function(e){n.queue.push([t,e]),n.scheduleApply(0)})},e.prototype.scheduleApply=function(e){var t=this;this.applying||(this.applying=!0,setTimeout(function(){t.apply(t.queue.shift()).then(function(){t.applying=!1,t.queue.length>0&&t.scheduleApply(0)})},e))},e.prototype.apply=function(w){return G(this,void 0,void 0,function(){var t,n,i,r,o,s,u,a,c,l,d,f,p,v,h,g,b,y,m;return H(this,function(e){switch(e.label){case 0:if(!w)return[2];t=Q(w,1),n=t[0],i=Q(w,2),r=i[1],o=this.plugins.filter(function(e){return e.type===Y.BEFORE}),e.label=1;case 1:e.trys.push([1,6,7,8]),s=_(o),u=s.next(),e.label=2;case 2:return u.done?[3,5]:[4,u.value.execute(W({},n))];case 3:if(null===(f=e.sent()))return r({event:n,code:0,message:""}),[2];n=f,e.label=4;case 4:return u=s.next(),[3,2];case 5:return[3,8];case 6:return a=e.sent(),g={error:a},[3,8];case 7:try{u&&!u.done&&(b=s.return)&&b.call(s)}finally{if(g)throw g.error}return[7];case 8:c=this.plugins.filter(function(e){return e.type===Y.ENRICHMENT}),e.label=9;case 9:e.trys.push([9,14,15,16]),l=_(c),d=l.next(),e.label=10;case 10:return d.done?[3,13]:[4,d.value.execute(W({},n))];case 11:if(null===(f=e.sent()))return r({event:n,code:0,message:""}),[2];n=f,e.label=12;case 12:return d=l.next(),[3,10];case 13:return[3,16];case 14:return p=e.sent(),y={error:p},[3,16];case 15:try{d&&!d.done&&(m=l.return)&&m.call(l)}finally{if(y)throw y.error}return[7];case 16:return v=this.plugins.filter(function(e){return e.type===Y.DESTINATION}),h=v.map(function(e){var t=W({},n);return e.execute(t).catch(function(e){return E(t,0,String(e))})}),Promise.all(h).then(function(e){var t=Q(e,1)[0];r(t)}),[2]}})})},e.prototype.flush=function(){return G(this,void 0,void 0,function(){var t,n,i,r=this;return H(this,function(e){switch(e.label){case 0:return t=this.queue,this.queue=[],[4,Promise.all(t.map(function(e){return r.apply(e)}))];case 1:return e.sent(),n=this.plugins.filter(function(e){return e.type===Y.DESTINATION}),i=n.map(function(e){return e.flush&&e.flush()}),[4,Promise.all(i)];case 2:return e.sent(),[2]}})})},e}(),de=function(){function e(e){void 0===e&&(e="$default"),this.initializing=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new le(this),this.name=e}return e.prototype._init=function(t){return G(this,void 0,void 0,function(){return H(this,function(e){switch(e.label){case 0:return this.config=t,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return e.sent(),[2]}})})},e.prototype.runQueuedFunctions=function(u){return G(this,void 0,void 0,function(){var t,n,i,r,o,s;return H(this,function(e){switch(e.label){case 0:t=this[u],this[u]=[],e.label=1;case 1:e.trys.push([1,6,7,8]),n=_(t),i=n.next(),e.label=2;case 2:return i.done?[3,5]:[4,(0,i.value)()];case 3:e.sent(),e.label=4;case 4:return i=n.next(),[3,2];case 5:return[3,8];case 6:return r=e.sent(),o={error:r},[3,8];case 7:try{i&&!i.done&&(s=n.return)&&s.call(n)}finally{if(o)throw o.error}return[7];case 8:return[2]}})})},e.prototype.track=function(e,t,n){var i=function(e,t,n){return W(W(W({},"string"==typeof e?{event_type:e}:e),n),t&&{event_properties:t})}(e,t,n);return a(this.dispatch(i))},e.prototype.identify=function(e,t){var n=ce(e,t);return a(this.dispatch(n))},e.prototype.groupIdentify=function(e,t,n,i){var r=function(e,t,n,i){var r;return W(W({},i),{event_type:m.GROUP_IDENTIFY,group_properties:n.getUserProperties(),groups:(r={},r[e]=t,r)})}(e,t,n,i);return a(this.dispatch(r))},e.prototype.setGroup=function(e,t,n){var i=function(e,t,n){var i,r=new ue;return r.set(e,t),W(W({},n),{event_type:m.IDENTIFY,user_properties:r.getUserProperties(),groups:(i={},i[e]=t,i)})}(e,t,n);return a(this.dispatch(i))},e.prototype.revenue=function(e,t){var n=function(e,t){return W(W({},t),{event_type:m.REVENUE,event_properties:e.getEventProperties()})}(e,t);return a(this.dispatch(n))},e.prototype.add=function(e){return this.config?a(this.timeline.register(e,this.config)):(this.q.push(this.add.bind(this,e)),a())},e.prototype.remove=function(e){return this.config?a(this.timeline.deregister(e)):(this.q.push(this.remove.bind(this,e)),a())},e.prototype.dispatchWithCallback=function(e,t){if(!this.config)return t(E(e,0,"Client not initialized"));this.process(e).then(t)},e.prototype.dispatch=function(n){return G(this,void 0,void 0,function(){var t=this;return H(this,function(e){return this.config?[2,this.process(n)]:[2,new Promise(function(e){t.dispatchQ.push(t.dispatchWithCallback.bind(t,n,e))})]})})},e.prototype.process=function(r){return G(this,void 0,void 0,function(){var t,n,i;return H(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),this.config.optOut?[2,E(r,0,"Event skipped due to optOut config")]:[4,this.timeline.push(r)];case 1:return 200===(i=e.sent()).code?this.config.loggerProvider.log(i.message):this.config.loggerProvider.error(i.message),[2,i];case 2:return t=e.sent(),n=String(t),this.config.loggerProvider.error(n),[2,i=E(r,0,n)];case 3:return[2]}})})},e.prototype.setOptOut=function(e){this.config?this.config.optOut=Boolean(e):this.q.push(this.setOptOut.bind(this,Boolean(e)))},e.prototype.flush=function(){return a(this.timeline.flush())},e}(),fe="dclid",pe="fbclid",ve="gbraid",he="gclid",ge="ko_click_id",be="li_fat_id",ye="msclkid",me="rtd_cid",we="ttclid",_e="twclid",Ee="wbraid",Ie={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},Se=function(){function e(){}return e.prototype.parse=function(){return G(this,void 0,void 0,function(){return H(this,function(e){return[2,W(W(W(W({},Ie),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},e.prototype.getUtmParam=function(){var e=ee();return{utm_campaign:e.utm_campaign,utm_content:e.utm_content,utm_id:e.utm_id,utm_medium:e.utm_medium,utm_source:e.utm_source,utm_term:e.utm_term}},e.prototype.getReferrer=function(){var e,t,n={referrer:void 0,referring_domain:void 0};try{n.referrer=document.referrer||void 0,n.referring_domain=null!==(t=null===(e=n.referrer)||void 0===e?void 0:e.split("/")[2])&&void 0!==t?t:void 0}catch(e){}return n},e.prototype.getClickIds=function(){var e,t=ee();return(e={})[fe]=t[fe],e[pe]=t[pe],e[ve]=t[ve],e[he]=t[he],e[ge]=t[ge],e[be]=t[be],e[ye]=t[ye],e[me]=t[me],e[we]=t[we],e[_e]=t[_e],e[Ee]=t[Ee],e},e}(),Oe=function(e){var t={};for(var n in e){var i=e[n];i&&(t[n]=i)}return t},ke=function(){for(var a,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var c,l={},d=y(),f=void 0,n=Q(e,2),p=n[0],i=n[1];p&&"init"in p?(a=p,i&&(l=i)):p&&(l=p);var v=function(){return G(void 0,void 0,void 0,function(){var t,n,i;return H(this,function(e){switch(e.label){case 0:return n={event_type:null!==(i=l.eventType)&&void 0!==i?i:"Page View"},t=[{}],[4,Te()];case 1:return[2,(n.event_properties=W.apply(void 0,[W.apply(void 0,t.concat([e.sent()])),{page_domain:"undefined"!=typeof location&&location.hostname||"",page_location:"undefined"!=typeof location&&location.href||"",page_path:"undefined"!=typeof location&&location.pathname||"",page_title:"undefined"!=typeof document&&document.title||"",page_url:"undefined"!=typeof location&&location.href.split("?")[0]||""}]),n)]}})})},h=function(){return void 0===l.trackOn||"function"==typeof l.trackOn&&l.trackOn()},o="undefined"!=typeof location?location.href:null,g=function(){return G(void 0,void 0,void 0,function(){var t,n,i,r;return H(this,function(e){switch(e.label){case 0:return t=location.href,n=Re(l.trackHistoryChanges,t,o||"")&&h(),o=t,n?(null==f||f.log("Tracking page view event"),null!=a?[3,1]:[3,3]):[3,4];case 1:return r=(i=a).track,[4,v()];case 2:r.apply(i,[e.sent()]),e.label=3;case 3:e.label=4;case 4:return[2]}})})},b=function(){g()},r={name:"page-view-tracking",type:Y.ENRICHMENT,setup:function(s,u){return G(void 0,void 0,void 0,function(){var t,n,i,r,o;return H(this,function(e){switch(e.label){case 0:return(a=null!=a?a:u)?((f=s.loggerProvider).log("Installing @amplitude/plugin-page-view-tracking-browser"),l.trackOn=(null===(r=s.attribution)||void 0===r?void 0:r.trackPageViews)?"attribution":l.trackOn,!u&&(null===(o=s.attribution)||void 0===o?void 0:o.trackPageViews)&&(f.warn("@amplitude/plugin-page-view-tracking-browser overrides page view tracking behavior defined in @amplitude/analytics-browser. Resolve by disabling page view tracking in @amplitude/analytics-browser."),s.attribution.trackPageViews=!1),l.trackHistoryChanges&&d&&(d.addEventListener("popstate",b),c=d.history.pushState,d.history.pushState=new Proxy(d.history.pushState,{apply:function(e,t,n){var i=Q(n,3),r=i[0],o=i[1],s=i[2];e.apply(t,[r,o,s]),g()}})),h()?(f.log("Tracking page view event"),i=(n=a).track,[4,v()]):[3,2]):(t=p?"Options":"undefined",s.loggerProvider.error("Argument of type '".concat(t,"' is not assignable to parameter of type 'BrowserClient'.")),[2]);case 1:i.apply(n,[e.sent()]),e.label=2;case 2:return[2]}})})},execute:function(n){return G(void 0,void 0,void 0,function(){var t;return H(this,function(e){switch(e.label){case 0:return"attribution"===l.trackOn&&Pe(n)?(null==f||f.log("Enriching campaign event to page view event with campaign parameters"),[4,v()]):[3,2];case 1:t=e.sent(),n.event_type=t.event_type,n.event_properties=W(W({},n.event_properties),t.event_properties),e.label=2;case 2:return[2,n]}})})},teardown:function(){return G(void 0,void 0,void 0,function(){return H(this,function(e){return d&&(d.removeEventListener("popstate",b),c&&(d.history.pushState=c)),[2]})})}};return r.__trackHistoryPageView=g,r},Te=function(){return G(void 0,void 0,void 0,function(){var t;return H(this,function(e){switch(e.label){case 0:return t=Oe,[4,(new Se).parse()];case 1:return[2,t.apply(void 0,[e.sent()])]}})})},Pe=function(e){if("$identify"===e.event_type&&e.user_properties){var t=e.user_properties,n=t[g.SET]||{},i=t[g.UNSET]||{},r=l(l([],Q(Object.keys(n)),!1),Q(Object.keys(i)),!1);return Object.keys(Ie).every(function(e){return r.includes(e)})}return!1},Re=function(e,t,n){return"pathOnly"===e?t.split("?")[0]!==n.split("?")[0]:t!==n},Ne=function(e){var t=e.split(".");return t.length<=2?e:t.slice(t.length-2,t.length).join(".")};!function(e){e.XHR="xhr",e.SendBeacon="beacon",e.Fetch="fetch"}(re||(re={}));var xe,Ae=function(){function e(){this.memoryStorage=new Map}return e.prototype.isEnabled=function(){return G(this,void 0,void 0,function(){return H(this,function(e){return[2,!0]})})},e.prototype.get=function(t){return G(this,void 0,void 0,function(){return H(this,function(e){return[2,this.memoryStorage.get(t)]})})},e.prototype.getRaw=function(n){return G(this,void 0,void 0,function(){var t;return H(this,function(e){switch(e.label){case 0:return[4,this.get(n)];case 1:return[2,(t=e.sent())?JSON.stringify(t):void 0]}})})},e.prototype.set=function(t,n){return G(this,void 0,void 0,function(){return H(this,function(e){return this.memoryStorage.set(t,n),[2]})})},e.prototype.remove=function(t){return G(this,void 0,void 0,function(){return H(this,function(e){return this.memoryStorage.delete(t),[2]})})},e.prototype.reset=function(){return G(this,void 0,void 0,function(){return H(this,function(e){return this.memoryStorage.clear(),[2]})})},e}(),Ue=function(){function e(){}return e.prototype.send=function(e,t){return Promise.resolve(null)},e.prototype.buildResponse=function(e){var t,n,i,r,o,s,u,a,c,l,d,f,p,v,h,g,b,y,m,w,_,E;if("object"!=typeof e)return null;var I=e.code||0,S=this.buildStatus(I);switch(S){case O.Success:return{status:S,statusCode:I,body:{eventsIngested:null!==(t=e.events_ingested)&&void 0!==t?t:0,payloadSizeBytes:null!==(n=e.payload_size_bytes)&&void 0!==n?n:0,serverUploadTime:null!==(i=e.server_upload_time)&&void 0!==i?i:0}};case O.Invalid:return{status:S,statusCode:I,body:{error:null!==(r=e.error)&&void 0!==r?r:"",missingField:null!==(o=e.missing_field)&&void 0!==o?o:"",eventsWithInvalidFields:null!==(s=e.events_with_invalid_fields)&&void 0!==s?s:{},eventsWithMissingFields:null!==(u=e.events_with_missing_fields)&&void 0!==u?u:{},eventsWithInvalidIdLengths:null!==(a=e.events_with_invalid_id_lengths)&&void 0!==a?a:{},epsThreshold:null!==(c=e.eps_threshold)&&void 0!==c?c:0,exceededDailyQuotaDevices:null!==(l=e.exceeded_daily_quota_devices)&&void 0!==l?l:{},silencedDevices:null!==(d=e.silenced_devices)&&void 0!==d?d:[],silencedEvents:null!==(f=e.silenced_events)&&void 0!==f?f:[],throttledDevices:null!==(p=e.throttled_devices)&&void 0!==p?p:{},throttledEvents:null!==(v=e.throttled_events)&&void 0!==v?v:[]}};case O.PayloadTooLarge:return{status:S,statusCode:I,body:{error:null!==(h=e.error)&&void 0!==h?h:""}};case O.RateLimit:return{status:S,statusCode:I,body:{error:null!==(g=e.error)&&void 0!==g?g:"",epsThreshold:null!==(b=e.eps_threshold)&&void 0!==b?b:0,throttledDevices:null!==(y=e.throttled_devices)&&void 0!==y?y:{},throttledUsers:null!==(m=e.throttled_users)&&void 0!==m?m:{},exceededDailyQuotaDevices:null!==(w=e.exceeded_daily_quota_devices)&&void 0!==w?w:{},exceededDailyQuotaUsers:null!==(_=e.exceeded_daily_quota_users)&&void 0!==_?_:{},throttledEvents:null!==(E=e.throttled_events)&&void 0!==E?E:[]}};case O.Timeout:default:return{status:S,statusCode:I}}},e.prototype.buildStatus=function(e){return e>=200&&e<300?O.Success:429===e?O.RateLimit:413===e?O.PayloadTooLarge:408===e?O.Timeout:e>=400&&e<500?O.Invalid:e>=500?O.Failed:O.Unknown},e}(),je=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.send=function(i,r){return G(this,void 0,void 0,function(){var t,n;return H(this,function(e){switch(e.label){case 0:if("undefined"==typeof fetch)throw new Error("FetchTransport is not supported");return t={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(r),method:"POST"},[4,fetch(i,t)];case 1:return[4,e.sent().json()];case 2:return n=e.sent(),[2,this.buildResponse(n)]}})})},t}(Ue),De=function(){function i(e){this.options=W({},e)}return i.prototype.isEnabled=function(){return G(this,void 0,void 0,function(){var t,n;return H(this,function(e){switch(e.label){case 0:if(!y())return[2,!1];i.testValue=String(Date.now()),t=new i(this.options),n="AMP_TEST",e.label=1;case 1:return e.trys.push([1,4,5,7]),[4,t.set(n,i.testValue)];case 2:return e.sent(),[4,t.get(n)];case 3:return[2,e.sent()===i.testValue];case 4:return e.sent(),[2,!1];case 5:return[4,t.remove(n)];case 6:return e.sent(),[7];case 7:return[2]}})})},i.prototype.get=function(n){return G(this,void 0,void 0,function(){var t;return H(this,function(e){switch(e.label){case 0:return[4,this.getRaw(n)];case 1:if(!(t=e.sent()))return[2,void 0];try{try{t=decodeURIComponent(atob(t))}catch(e){}return[2,JSON.parse(t)]}catch(e){return[2,void 0]}return[2]}})})},i.prototype.getRaw=function(r){var o;return G(this,void 0,void 0,function(){var t,n,i;return H(this,function(e){return t=y(),n=null!==(o=null==t?void 0:t.document.cookie.split("; "))&&void 0!==o?o:[],(i=n.find(function(e){return 0===e.indexOf(r+"=")}))?[2,i.substring(r.length+1)]:[2,void 0]})})},i.prototype.set=function(u,a){var c;return G(this,void 0,void 0,function(){var t,n,i,r,o,s;return H(this,function(e){try{t=null!==(c=this.options.expirationDays)&&void 0!==c?c:0,i=void 0,(n=null!==a?t:-1)&&((r=new Date).setTime(r.getTime()+24*n*60*60*1e3),i=r),o="".concat(u,"=").concat(btoa(encodeURIComponent(JSON.stringify(a)))),i&&(o+="; expires=".concat(i.toUTCString())),o+="; path=/",this.options.domain&&(o+="; domain=".concat(this.options.domain)),this.options.secure&&(o+="; Secure"),this.options.sameSite&&(o+="; SameSite=".concat(this.options.sameSite)),(s=y())&&(s.document.cookie=o)}catch(e){}return[2]})})},i.prototype.remove=function(t){return G(this,void 0,void 0,function(){return H(this,function(e){switch(e.label){case 0:return[4,this.set(t,null)];case 1:return e.sent(),[2]}})})},i.prototype.reset=function(){return G(this,void 0,void 0,function(){return H(this,function(e){return[2]})})},i}(),Ce=1e3,Me=function(){function r(e){this.loggerProvider=null==e?void 0:e.loggerProvider}return r.prototype.isEnabled=function(){return G(this,void 0,void 0,function(){var t,n,i;return H(this,function(e){switch(e.label){case 0:if(!y())return[2,!1];t=String(Date.now()),n=new r,i="AMP_TEST",e.label=1;case 1:return e.trys.push([1,4,5,7]),[4,n.set(i,t)];case 2:return e.sent(),[4,n.get(i)];case 3:return[2,e.sent()===t];case 4:return e.sent(),[2,!1];case 5:return[4,n.remove(i)];case 6:return e.sent(),[7];case 7:return[2]}})})},r.prototype.get=function(n){return G(this,void 0,void 0,function(){var t;return H(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.getRaw(n)];case 1:return(t=e.sent())?[2,JSON.parse(t)]:[2,void 0];case 2:return e.sent(),[2,void 0];case 3:return[2]}})})},r.prototype.getRaw=function(t){var n;return G(this,void 0,void 0,function(){return H(this,function(e){return[2,(null===(n=y())||void 0===n?void 0:n.localStorage.getItem(t))||void 0]})})},r.prototype.set=function(r,o){var s,u;return G(this,void 0,void 0,function(){var t,n,i;return H(this,function(e){t=Array.isArray(o)&&o.length>Ce;try{n=t?JSON.stringify(o.slice(0,Ce)):JSON.stringify(o),null===(s=y())||void 0===s||s.localStorage.setItem(r,n)}catch(e){}return t&&(i=o.length-Ce,null===(u=this.loggerProvider)||void 0===u||u.error("Failed to save ".concat(i," events because the queue length exceeded ").concat(Ce,"."))),[2]})})},r.prototype.remove=function(t){var n;return G(this,void 0,void 0,function(){return H(this,function(e){try{null===(n=y())||void 0===n||n.localStorage.removeItem(t)}catch(e){}return[2]})})},r.prototype.reset=function(){var t;return G(this,void 0,void 0,function(){return H(this,function(e){try{null===(t=y())||void 0===t||t.localStorage.clear()}catch(e){}return[2]})})},r}(),Ve=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={done:4},e}return i(e,t),e.prototype.send=function(t,n){return G(this,void 0,void 0,function(){var s=this;return H(this,function(e){return[2,new Promise(function(i,r){"undefined"==typeof XMLHttpRequest&&r(new Error("XHRTransport is not supported."));var o=new XMLHttpRequest;o.open("POST",t,!0),o.onreadystatechange=function(){if(o.readyState===s.state.done)try{var e=o.responseText,t=JSON.parse(e),n=s.buildResponse(t);i(n)}catch(e){r(e)}},o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Accept","*/*"),o.send(JSON.stringify(n))})]})})},e}(Ue),qe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.send=function(o,s){return G(this,void 0,void 0,function(){var r=this;return H(this,function(e){return[2,new Promise(function(e,t){var n=y();if(!(null==n?void 0:n.navigator.sendBeacon))throw new Error("SendBeaconTransport is not supported");try{var i=JSON.stringify(s);return e(n.navigator.sendBeacon(o,JSON.stringify(s))?r.buildResponse({code:200,events_ingested:s.events.length,payload_size_bytes:i.length,server_upload_time:Date.now()}):r.buildResponse({code:500}))}catch(e){t(e)}})]})})},t}(Ue),I=function(){return{cookieExpiration:365,cookieSameSite:"Lax",cookieSecure:!1,cookieStorage:new Ae,cookieUpgrade:!0,disableCookies:!1,domain:"",sessionTimeout:18e5,trackingOptions:{deviceManufacturer:!0,deviceModel:!0,ipAddress:!0,language:!0,osName:!0,osVersion:!0,platform:!0},transportProvider:new je}},Le=function(p){function e(e,t){var n,i,r,o,s,u,a,c,l,d=this,f=I();return(d=p.call(this,W(W({flushIntervalMillis:1e3,flushMaxRetries:5,flushQueueSize:30,transportProvider:f.transportProvider},t),{apiKey:e}))||this)._optOut=!1,d.cookieStorage=null!==(n=null==t?void 0:t.cookieStorage)&&void 0!==n?n:f.cookieStorage,d.deviceId=null==t?void 0:t.deviceId,d.lastEventId=null==t?void 0:t.lastEventId,d.lastEventTime=null==t?void 0:t.lastEventTime,d.optOut=Boolean(null==t?void 0:t.optOut),d.sessionId=null==t?void 0:t.sessionId,d.userId=null==t?void 0:t.userId,d.appVersion=null==t?void 0:t.appVersion,d.attribution=null==t?void 0:t.attribution,d.cookieExpiration=null!==(i=null==t?void 0:t.cookieExpiration)&&void 0!==i?i:f.cookieExpiration,d.cookieSameSite=null!==(r=null==t?void 0:t.cookieSameSite)&&void 0!==r?r:f.cookieSameSite,d.cookieSecure=null!==(o=null==t?void 0:t.cookieSecure)&&void 0!==o?o:f.cookieSecure,d.cookieUpgrade=null!==(s=null==t?void 0:t.cookieUpgrade)&&void 0!==s?s:f.cookieUpgrade,d.defaultTracking=null==t?void 0:t.defaultTracking,d.disableCookies=null!==(u=null==t?void 0:t.disableCookies)&&void 0!==u?u:f.disableCookies,d.defaultTracking=null==t?void 0:t.defaultTracking,d.domain=null!==(a=null==t?void 0:t.domain)&&void 0!==a?a:f.domain,d.partnerId=null==t?void 0:t.partnerId,d.sessionTimeout=null!==(c=null==t?void 0:t.sessionTimeout)&&void 0!==c?c:f.sessionTimeout,d.trackingOptions=null!==(l=null==t?void 0:t.trackingOptions)&&void 0!==l?l:f.trackingOptions,d}return i(e,p),Object.defineProperty(e.prototype,"deviceId",{get:function(){return this._deviceId},set:function(e){this._deviceId!==e&&(this._deviceId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userId",{get:function(){return this._userId},set:function(e){this._userId!==e&&(this._userId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sessionId",{get:function(){return this._sessionId},set:function(e){this._sessionId!==e&&(this._sessionId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut!==e&&(this._optOut=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(e){this._lastEventTime!==e&&(this._lastEventTime=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(e){this._lastEventId!==e&&(this._lastEventId=e,this.updateStorage())},enumerable:!1,configurable:!0}),e.prototype.updateStorage=function(){var e,t={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId};null===(e=this.cookieStorage)||void 0===e||e.set(X(this.apiKey),t)},e}(F),ze=function(g,b){return G(void 0,void 0,void 0,function(){var t,n,i,r,o,s,u,a,c,l,d,f,p,v,h;return H(this,function(e){switch(e.label){case 0:return t=I(),n=null!==(v=null==b?void 0:b.deviceId)&&void 0!==v?v:w(),i=null==b?void 0:b.lastEventId,r=null==b?void 0:b.lastEventTime,o=null==b?void 0:b.optOut,s=null==b?void 0:b.sessionId,u=null==b?void 0:b.userId,a=null==b?void 0:b.cookieStorage,c=null==b?void 0:b.domain,l=Le.bind,d=[void 0,g],f=[W({},b)],p={cookieStorage:a,deviceId:n,domain:c,lastEventId:i,lastEventTime:r,optOut:o,sessionId:s},[4,$e(b)];case 1:return[2,new(l.apply(Le,d.concat([W.apply(void 0,f.concat([(p.storageProvider=e.sent(),p.trackingOptions=W(W({},t.trackingOptions),null==b?void 0:b.trackingOptions),p.transportProvider=null!==(h=null==b?void 0:b.transportProvider)&&void 0!==h?h:We(null==b?void 0:b.transport),p.userId=u,p)]))])))]}})})},Fe=function(r,o){return void 0===o&&(o=I()),G(void 0,void 0,void 0,function(){var t,n,i;return H(this,function(e){switch(e.label){case 0:return t=W(W({},o),r),n=null==r?void 0:r.cookieStorage,(i=!n)?[3,2]:[4,n.isEnabled()];case 1:i=!e.sent(),e.label=2;case 2:return i?[2,Be(t)]:[2,n]}})})},Be=function(i){return G(void 0,void 0,void 0,function(){var t,n;return H(this,function(e){switch(e.label){case 0:return t=new De({domain:i.domain,expirationDays:i.cookieExpiration,sameSite:i.cookieSameSite,secure:i.cookieSecure}),(n=i.disableCookies)?[3,2]:[4,t.isEnabled()];case 1:n=!e.sent(),e.label=2;case 2:return n?[4,(t=new Me).isEnabled()]:[3,4];case 3:e.sent()||(t=new Ae),e.label=4;case 4:return[2,t]}})})},$e=function(l){return G(void 0,void 0,void 0,function(){var t,n,i,r,o,s,u,a,c;return H(this,function(e){switch(e.label){case 0:if(t=l&&Object.prototype.hasOwnProperty.call(l,"storageProvider"),n=l&&l.loggerProvider,t&&!l.storageProvider)return[3,9];e.label=1;case 1:e.trys.push([1,7,8,9]),i=_([null==l?void 0:l.storageProvider,new Me({loggerProvider:n})]),r=i.next(),e.label=2;case 2:return r.done?[3,6]:(o=r.value,(s=o)?[4,o.isEnabled()]:[3,4]);case 3:s=e.sent(),e.label=4;case 4:if(s)return[2,o];e.label=5;case 5:return r=i.next(),[3,2];case 6:return[3,9];case 7:return u=e.sent(),a={error:u},[3,9];case 8:try{r&&!r.done&&(c=i.return)&&c.call(i)}finally{if(a)throw a.error}return[7];case 9:return[2,void 0]}})})},We=function(e){return e===re.XHR?new Ve:e===re.SendBeacon?new qe:I().transportProvider},e="[Amplitude]",Ke="".concat(e," Page Viewed"),Ge="".concat(e," Form Started"),He="".concat(e," Form Submitted"),Qe="".concat(e," File Downloaded"),Je="session_start",Ye="session_end",Ze="".concat(e," File Extension"),Xe="".concat(e," File Name"),et="".concat(e," Link ID"),tt="".concat(e," Link Text"),nt="".concat(e," Link URL"),it="".concat(e," Form ID"),rt="".concat(e," Form Name"),ot="".concat(e," Form Destination"),st=function(f,p){return G(void 0,void 0,void 0,function(){var t,n,i,r,o,s,u,a,c,l,d;return H(this,function(e){switch(e.label){case 0:return[4,Fe(p)];case 1:return t=e.sent(),n=function(e){return"".concat(J.toLowerCase(),"_").concat(e.substring(0,6))}(f),[4,t.getRaw(n)];case 2:return(i=e.sent())?(null!==(d=p.cookieUpgrade)&&void 0!==d?d:I().cookieUpgrade)?[4,t.remove(n)]:[3,4]:[2,{optOut:!1}];case 3:e.sent(),e.label=4;case 4:return r=Q(i.split("."),6),o=r[0],s=r[1],u=r[2],a=r[3],c=r[4],l=r[5],[2,{deviceId:o,userId:at(s),sessionId:ut(a),lastEventId:ut(l),lastEventTime:ut(c),optOut:Boolean(u)}]}})})},ut=function(e){var t=parseInt(e,32);if(!isNaN(t))return t},at=function(e){if(atob&&escape&&e)try{return decodeURIComponent(escape(atob(e)))}catch(e){return}},ct=n(293),lt=n.n(ct),dt=function(){var e,t,n,i;if("undefined"==typeof navigator)return"";var r=navigator.userLanguage;return null!==(i=null!==(n=null!==(t=null===(e=navigator.languages)||void 0===e?void 0:e[0])&&void 0!==t?t:navigator.language)&&void 0!==n?n:r)&&void 0!==i?i:""},ft=function(){function e(){this.name="context",this.type=Y.BEFORE,this.library="amplitude-ts/".concat("1.13.0"),"undefined"!=typeof navigator&&(this.userAgent=navigator.userAgent),this.uaResult=new(lt())(this.userAgent).getResult()}return e.prototype.setup=function(e){return this.config=e,Promise.resolve(void 0)},e.prototype.execute=function(a){var c,l;return G(this,void 0,void 0,function(){var t,n,i,r,o,s,u;return H(this,function(e){return t=(new Date).getTime(),n=this.uaResult.browser.name,i=this.uaResult.browser.version,r=this.uaResult.device.model||this.uaResult.os.name,o=this.uaResult.device.vendor,s=null!==(c=this.config.lastEventId)&&void 0!==c?c:-1,u=null!==(l=a.event_id)&&void 0!==l?l:s+1,this.config.lastEventId=u,a.time||(this.config.lastEventTime=t),[2,W(W(W(W(W(W(W(W(W(W(W(W({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:t},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:"Web"}),this.config.trackingOptions.osName&&{os_name:n}),this.config.trackingOptions.osVersion&&{os_version:i}),this.config.trackingOptions.deviceManufacturer&&{device_manufacturer:o}),this.config.trackingOptions.deviceModel&&{device_model:r}),this.config.trackingOptions.language&&{language:dt()}),this.config.trackingOptions.ipAddress&&{ip:"$remote"}),{insert_id:w(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),a),{event_id:u,library:this.library,user_agent:this.userAgent})]})})},e}(),pt={page_domain:"".concat(e," Page Domain"),page_location:"".concat(e," Page Location"),page_path:"".concat(e," Page Path"),page_title:"".concat(e," Page Title"),page_url:"".concat(e," Page URL")},vt=function(){var i,r=[],o=function(e,t,n){e.addEventListener(t,n),r.push({element:e,type:t,handler:n})};return{name:"@amplitude/plugin-form-interaction-tracking-browser",type:Y.ENRICHMENT,setup:function(n,r){return G(void 0,void 0,void 0,function(){var t;return H(this,function(e){return r?("undefined"==typeof document||(t=function(n){var i=!1;o(n,"change",function(){var e;i||r.track(Ge,((e={})[it]=n.id,e[rt]=n.name,e[ot]=n.action,e)),i=!0}),o(n,"submit",function(){var e,t;i||r.track(Ge,((e={})[it]=n.id,e[rt]=n.name,e[ot]=n.action,e)),r.track(He,((t={})[it]=n.id,t[rt]=n.name,t[ot]=n.action,t)),i=!1})},Array.from(document.getElementsByTagName("form")).forEach(t),"undefined"!=typeof MutationObserver&&(i=new MutationObserver(function(e){e.forEach(function(e){e.addedNodes.forEach(function(e){"FORM"===e.nodeName&&t(e),"querySelectorAll"in e&&"function"==typeof e.querySelectorAll&&Array.from(e.querySelectorAll("form")).map(t)})})})).observe(document.body,{subtree:!0,childList:!0})),[2]):(n.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked."),[2])})})},execute:function(t){return G(void 0,void 0,void 0,function(){return H(this,function(e){return[2,t]})})},teardown:function(){return G(void 0,void 0,void 0,function(){return H(this,function(e){return null==i||i.disconnect(),r.forEach(function(e){var t=e.element,n=e.type,i=e.handler;null==t||t.removeEventListener(n,i)}),r=[],[2]})})}}},ht=function(e,t){gt(e,t)},gt=function(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=i.name,o=i.args,s=i.resolve,u=e&&e[r];if("function"==typeof u){var a=u.apply(e,o);"function"==typeof s&&s(null==a?void 0:a.promise)}}return e},bt=function(e){return e&&void 0!==e._q},yt=function($){function e(){return null!==$&&$.apply(this,arguments)||this}return i(e,$),e.prototype.init=function(e,t,n){return void 0===e&&(e=""),a(this._init(W(W({},n),{userId:t,apiKey:e})))},e.prototype._init=function(I){var S,O,k,T,P,R,N,x,A,U,j,D,C,M,V,q,L,z,F,B;return G(this,void 0,void 0,function(){var n,r,o,s,u,a,l,d,f,p,v,h,g,b,y,m,w,_,E=this;return H(this,function(e){switch(e.label){case 0:return this.initializing?[2]:(this.initializing=!0,n=I,I.disableCookies?(r="",[3,5]):[3,1]);case 1:return null===(S=I.domain)||void 0===S?[3,2]:(o=S,[3,4]);case 2:return[4,G(void 0,void 0,void 0,function(){var t,n,i,r,o,s,u;return H(this,function(e){switch(e.label){case 0:return[4,(new De).isEnabled()];case 1:if(!e.sent()||"undefined"==typeof location)return[2,""];for(t=location.hostname,n=t.split("."),i=[],r="AMP_TLDTEST",o=n.length-2;o>=0;--o)i.push(n.slice(o).join("."));o=0,e.label=2;case 2:return o<i.length?(s=i[o],[4,(u=new De({domain:"."+s})).set(r,1)]):[3,7];case 3:return e.sent(),[4,u.get(r)];case 4:return e.sent()?[4,u.remove(r)]:[3,6];case 5:return e.sent(),[2,"."+s];case 6:return o++,[3,2];case 7:return[2,""]}})})];case 3:o=e.sent(),e.label=4;case 4:r=o,e.label=5;case 5:return n.domain=r,[4,st(I.apiKey,I)];case 6:return s=e.sent(),[4,Fe(I)];case 7:return[4,(u=e.sent()).get(X(I.apiKey))];case 8:return a=e.sent(),l=ee(),d=null!==(T=null!==(k=null!==(O=I.deviceId)&&void 0!==O?O:l.deviceId)&&void 0!==k?k:null==a?void 0:a.deviceId)&&void 0!==T?T:s.deviceId,f=null!==(P=null==a?void 0:a.sessionId)&&void 0!==P?P:s.sessionId,p=null!==(N=null!==(R=I.optOut)&&void 0!==R?R:null==a?void 0:a.optOut)&&void 0!==N?N:s.optOut,v=null!==(x=null==a?void 0:a.lastEventId)&&void 0!==x?x:s.lastEventId,h=null!==(A=null==a?void 0:a.lastEventTime)&&void 0!==A?A:s.lastEventTime,g=null!==(j=null!==(U=I.userId)&&void 0!==U?U:null==a?void 0:a.userId)&&void 0!==j?j:s.userId,this.previousSessionDeviceId=null!==(D=null==a?void 0:a.deviceId)&&void 0!==D?D:s.deviceId,this.previousSessionUserId=null!==(C=null==a?void 0:a.userId)&&void 0!==C?C:s.userId,[4,ze(I.apiKey,W(W({},I),{deviceId:d,sessionId:f,optOut:p,lastEventId:v,lastEventTime:h,userId:g,cookieStorage:u}))];case 9:return b=e.sent(),[4,$.prototype._init.call(this,b)];case 10:return e.sent(),y=!1,(!this.config.lastEventTime||!this.config.sessionId||this.config.lastEventTime&&Date.now()-this.config.lastEventTime>this.config.sessionTimeout)&&(this.setSessionId(null!==(V=null!==(M=I.sessionId)&&void 0!==M?M:this.config.sessionId)&&void 0!==V?V:Date.now()),y=!0),(m=Z(I.instanceName)).identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),[4,this.add(new ie).promise];case 11:return e.sent(),[4,this.add(new ft).promise];case 12:return e.sent(),[4,this.add(new te).promise];case 13:return e.sent(),("boolean"==typeof(t=this.config.defaultTracking)?t:null==t?void 0:t.fileDownloads)?[4,this.add((c=[],{name:"@amplitude/plugin-file-download-tracking-browser",type:Y.ENRICHMENT,setup:function(n,a){return G(void 0,void 0,void 0,function(){var t,u;return H(this,function(e){return a?("undefined"==typeof document||(t=function(t){var n;try{n=new URL(t.href,window.location.href)}catch(t){return}var e,i,r,o=u.exec(n.href),s=null==o?void 0:o[1];s&&(i="click",r=function(){var e;s&&a.track(Qe,((e={})[Ze]=s,e[Xe]=n.pathname,e[et]=t.id,e[tt]=t.text,e[nt]=t.href,e))},(e=t).addEventListener(i,r),c.push({element:e,type:i,handler:r}))},u=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)$/,Array.from(document.getElementsByTagName("a")).forEach(t),"undefined"!=typeof MutationObserver&&(i=new MutationObserver(function(e){e.forEach(function(e){e.addedNodes.forEach(function(e){"A"===e.nodeName&&t(e),"querySelectorAll"in e&&"function"==typeof e.querySelectorAll&&Array.from(e.querySelectorAll("a")).map(t)})})})).observe(document.body,{subtree:!0,childList:!0})),[2]):(n.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked."),[2])})})},execute:function(t){return G(void 0,void 0,void 0,function(){return H(this,function(e){return[2,t]})})},teardown:function(){return G(void 0,void 0,void 0,function(){return H(this,function(e){return null==i||i.disconnect(),c.forEach(function(e){var t=e.element,n=e.type,i=e.handler;null==t||t.removeEventListener(n,i)}),c=[],[2]})})}})).promise]:[3,15];case 14:e.sent(),e.label=15;case 15:return function(e){return"boolean"==typeof e?e:!!(null==e?void 0:e.formInteractions)}(this.config.defaultTracking)?[4,this.add(vt()).promise]:[3,17];case 16:e.sent(),e.label=17;case 17:return(null===(q=this.config.attribution)||void 0===q?void 0:q.disabled)?[3,19]:((w=function(){for(var e,h,n=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var g={},r=Q(t,2),b=r[0],o=r[1];b&&"init"in b?(h=b,o&&(g=o)):b&&(g=b);var s=null!==(e=g.excludeReferrers)&&void 0!==e?e:[];"undefined"!=typeof location&&s.unshift(location.hostname),g=W(W({disabled:!1,initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1},g),{excludeReferrers:s});var u={name:"web-attribution",type:Y.BEFORE,setup:function(f,p){var v;return G(this,void 0,void 0,function(){var r,o,s,u,a,c,l,d;return H(this,function(e){switch(e.label){case 0:return(h=null!=h?h:p)?g.disabled?(f.loggerProvider.log("@amplitude/plugin-web-attribution-browser is disabled. Attribution is not tracked."),[2]):(f.loggerProvider.log("Installing @amplitude/plugin-web-attribution-browser."),p||(null===(v=f.attribution)||void 0===v?void 0:v.disabled)||(f.loggerProvider.warn("@amplitude/plugin-web-attribution-browser overrides web attribution behavior defined in @amplitude/analytics-browser. Resolve by disabling web attribution tracking in @amplitude/analytics-browser."),f.attribution={disabled:!0}),o=f.cookieStorage,t=f.apiKey,void 0===(n="MKTG")&&(n=""),void 0===i&&(i=10),s=[J,n,t.substring(0,i)].filter(Boolean).join("_"),[4,Promise.all([(new Se).parse(),o.get(s)])]):(r=b?"Options":"undefined",f.loggerProvider.error("Argument of type '".concat(r,"' is not assignable to parameter of type 'BrowserClient'.")),[2]);case 1:return u=Q.apply(void 0,[e.sent(),2]),a=u[0],c=u[1],(null!=(l=this.__pluginEnabledOverride)?l:function(e,t,n){e.referrer;var i,r=e.referring_domain,o=K(e,["referrer","referring_domain"]),s=t||{},u=(s.referrer,s.referring_domain),a=K(s,["referrer","referring_domain"]);if(e.referring_domain&&(null===(i=n.excludeReferrers)||void 0===i?void 0:i.includes(e.referring_domain)))return!1;var c=JSON.stringify(o)!==JSON.stringify(a),l=Ne(r||"")!==Ne(u||"");return!t||c||l}(a,c,g))&&(g.resetSessionOnNewCampaign&&(h.setSessionId(Date.now()),f.loggerProvider.log("Created a new session for new campaign.")),f.loggerProvider.log("Tracking attribution."),d=function(e,s){var t=W(W({},Ie),e),n=Object.entries(t).reduce(function(e,t){var n,i=Q(t,2),r=i[0],o=i[1];return e.setOnce("initial_".concat(r),null!==(n=null!=o?o:s.initialEmptyValue)&&void 0!==n?n:"EMPTY"),o?e.set(r,o):e.unset(r)},new ue);return ce(n)}(a,g),h.track(d),o.set(s,a)),[2]}var t,n,i})})},execute:function(t){return G(n,void 0,void 0,function(){return H(this,function(e){return[2,t]})})},__pluginEnabledOverride:void 0};return u}({excludeReferrers:null===(L=this.config.attribution)||void 0===L?void 0:L.excludeReferrers,initialEmptyValue:null===(z=this.config.attribution)||void 0===z?void 0:z.initialEmptyValue,resetSessionOnNewCampaign:null===(F=this.config.attribution)||void 0===F?void 0:F.resetSessionOnNewCampaign})).__pluginEnabledOverride=!(!y&&!(null===(B=this.config.attribution)||void 0===B?void 0:B.trackNewCampaigns))&&void 0,[4,this.add(w).promise]);case 18:e.sent(),e.label=19;case 19:return _=function(e){var t,n,i=(null===(t=e.attribution)||void 0===t?void 0:t.trackPageViews)?"attribution":function(){return!1},r=void 0,o="Page View";return("boolean"==typeof(n=e.defaultTracking)?n:!!(!0===(null==n?void 0:n.pageViews)||(null==n?void 0:n.pageViews)&&"object"==typeof n.pageViews))&&(i=void 0,o=void 0,e.defaultTracking&&"object"==typeof e.defaultTracking&&e.defaultTracking.pageViews&&"object"==typeof e.defaultTracking.pageViews&&("trackOn"in e.defaultTracking.pageViews&&(i=e.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in e.defaultTracking.pageViews&&(r=e.defaultTracking.pageViews.trackHistoryChanges),"eventType"in e.defaultTracking.pageViews&&e.defaultTracking.pageViews.eventType&&(o=e.defaultTracking.pageViews.eventType))),{trackOn:i,trackHistoryChanges:r,eventType:o}}(this.config),_.eventType=_.eventType||Ke,[4,this.add(ke(_)).promise];case 20:return e.sent(),[4,this.add({name:"@amplitude/plugin-default-page-view-event-enrichment-browser",type:Y.ENRICHMENT,setup:function(){return G(void 0,void 0,void 0,function(){return H(this,function(e){return[2,void 0]})})},execute:function(t){return G(void 0,void 0,void 0,function(){return H(this,function(e){return t.event_type===Ke&&t.event_properties&&(t.event_properties=Object.entries(t.event_properties).reduce(function(e,t){var n=Q(t,2),i=n[0],r=n[1],o=pt[i];return o?e[o]=r:e[i]=r,e},{})),[2,t]})})}}).promise];case 21:return e.sent(),this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 22:return e.sent(),m.eventBridge.setEventReceiver(function(e){E.track(e.eventType,e.eventProperties)}),[2]}var i,c,t})})},e.prototype.getUserId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.userId},e.prototype.setUserId=function(e){this.config?e===this.config.userId&&void 0!==e||(this.config.userId=e,function(e,t){Z(t).identityStore.editIdentity().setUserId(e).commit()}(e,this.config.instanceName)):this.q.push(this.setUserId.bind(this,e))},e.prototype.getDeviceId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.deviceId},e.prototype.setDeviceId=function(e){this.config?(this.config.deviceId=e,function(e,t){Z(t).identityStore.editIdentity().setDeviceId(e).commit()}(e,this.config.instanceName)):this.q.push(this.setDeviceId.bind(this,e))},e.prototype.setOptOut=function(e){!function(e,t){Z(t).identityStore.editIdentity().setOptOut(e).commit()}(e,this.config.instanceName),$.prototype.setOptOut.call(this,e)},e.prototype.reset=function(){this.setDeviceId(w()),this.setUserId(void 0)},e.prototype.getSessionId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.sessionId},e.prototype.setSessionId=function(e){var t;if(this.config){if(e!==this.config.sessionId){var n,i=this.getSessionId(),r=this.config.lastEventTime,o=null!==(t=this.config.lastEventId)&&void 0!==t?t:-1;this.config.sessionId=e,this.config.lastEventTime=void 0,("boolean"==typeof(n=this.config.defaultTracking)?n:null==n?void 0:n.sessions)&&(i&&r&&this.track(Ye,void 0,{device_id:this.previousSessionDeviceId,event_id:++o,session_id:i,time:r+1,user_id:this.previousSessionUserId}),this.config.lastEventTime=this.config.sessionId,this.track(Je,void 0,{event_id:++o,session_id:this.config.sessionId,time:this.config.lastEventTime})),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId}}else this.q.push(this.setSessionId.bind(this,e))},e.prototype.extendSession=function(){this.config?this.config.lastEventTime=Date.now():this.q.push(this.extendSession.bind(this))},e.prototype.setTransport=function(e){this.config?this.config.transportProvider=We(e):this.q.push(this.setTransport.bind(this,e))},e.prototype.identify=function(e,t){if(bt(e)){var n=e._q;e._q=[],e=gt(new ue,n)}return(null==t?void 0:t.user_id)&&this.setUserId(t.user_id),(null==t?void 0:t.device_id)&&this.setDeviceId(t.device_id),$.prototype.identify.call(this,e,t)},e.prototype.groupIdentify=function(e,t,n,i){if(bt(n)){var r=n._q;n._q=[],n=gt(new ue,r)}return $.prototype.groupIdentify.call(this,e,t,n,i)},e.prototype.revenue=function(e,t){if(bt(e)){var n=e._q;e._q=[],e=gt(new ae,n)}return $.prototype.revenue.call(this,e,t)},e.prototype.process=function(r){return G(this,void 0,void 0,function(){var t,n,i;return H(this,function(e){return t=Date.now(),n=this.config.lastEventTime||Date.now(),i=t-n,r.event_type!==Je&&r.event_type!==Ye&&(!r.session_id||r.session_id===this.getSessionId())&&i>this.config.sessionTimeout&&this.setSessionId(t),[2,$.prototype.process.call(this,r)]})})},e}(de),mt=function(){var e=new yt;return{init:o(e.init.bind(e),"init",t(e),r(e,["config"])),add:o(e.add.bind(e),"add",t(e),r(e,["config.apiKey","timeline.plugins"])),remove:o(e.remove.bind(e),"remove",t(e),r(e,["config.apiKey","timeline.plugins"])),track:o(e.track.bind(e),"track",t(e),r(e,["config.apiKey","timeline.queue.length"])),logEvent:o(e.logEvent.bind(e),"logEvent",t(e),r(e,["config.apiKey","timeline.queue.length"])),identify:o(e.identify.bind(e),"identify",t(e),r(e,["config.apiKey","timeline.queue.length"])),groupIdentify:o(e.groupIdentify.bind(e),"groupIdentify",t(e),r(e,["config.apiKey","timeline.queue.length"])),setGroup:o(e.setGroup.bind(e),"setGroup",t(e),r(e,["config.apiKey","timeline.queue.length"])),revenue:o(e.revenue.bind(e),"revenue",t(e),r(e,["config.apiKey","timeline.queue.length"])),flush:o(e.flush.bind(e),"flush",t(e),r(e,["config.apiKey","timeline.queue.length"])),getUserId:o(e.getUserId.bind(e),"getUserId",t(e),r(e,["config","config.userId"])),setUserId:o(e.setUserId.bind(e),"setUserId",t(e),r(e,["config","config.userId"])),getDeviceId:o(e.getDeviceId.bind(e),"getDeviceId",t(e),r(e,["config","config.deviceId"])),setDeviceId:o(e.setDeviceId.bind(e),"setDeviceId",t(e),r(e,["config","config.deviceId"])),reset:o(e.reset.bind(e),"reset",t(e),r(e,["config","config.userId","config.deviceId"])),getSessionId:o(e.getSessionId.bind(e),"getSessionId",t(e),r(e,["config"])),setSessionId:o(e.setSessionId.bind(e),"setSessionId",t(e),r(e,["config"])),extendSession:o(e.extendSession.bind(e),"extendSession",t(e),r(e,["config"])),setOptOut:o(e.setOptOut.bind(e),"setOptOut",t(e),r(e,["config"])),setTransport:o(e.setTransport.bind(e),"setTransport",t(e),r(e,["config"]))}},wt=(mt(),function(){var e,t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==n.g?n.g:void 0;return(null===(e=null==t?void 0:t.location)||void 0===e?void 0:e.search)?t.location.search.substring(1).split("&").filter(Boolean).reduce(function(e,t){var n=t.split("=",2),i=_t(n[0]),r=_t(n[1]);return r?(e[i]=r,e):e},{}):{}}),_t=function(e){void 0===e&&(e="");try{return decodeURIComponent(e)}catch(e){return""}},Et="dclid",It="fbclid",St="gbraid",Ot="gclid",kt="ko_click_id",Tt="msclkid",Pt="ttclid",Rt="twclid",Nt="wbraid",xt={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,msclkid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},At=function(){function e(){}return e.prototype.parse=function(){return G(this,void 0,void 0,function(){return H(this,function(e){return[2,W(W(W(W({},xt),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},e.prototype.getUtmParam=function(){var e=wt();return{utm_campaign:e.utm_campaign,utm_content:e.utm_content,utm_id:e.utm_id,utm_medium:e.utm_medium,utm_source:e.utm_source,utm_term:e.utm_term}},e.prototype.getReferrer=function(){var e,t,n={referrer:void 0,referring_domain:void 0};try{n.referrer=document.referrer||void 0,n.referring_domain=null!==(t=null===(e=n.referrer)||void 0===e?void 0:e.split("/")[2])&&void 0!==t?t:void 0}catch(e){}return n},e.prototype.getClickIds=function(){var e,t=wt();return(e={})[Et]=t[Et],e[It]=t[It],e[St]=t[St],e[Ot]=t[Ot],e[kt]=t[kt],e[Tt]=t[Tt],e[Pt]=t[Pt],e[Rt]=t[Rt],e[Nt]=t[Nt],e},e}();!function(e){e.BEFORE="before",e.ENRICHMENT="enrichment",e.DESTINATION="destination"}(xe||(xe={}));var S,k,Ut,jt="AMP";"".concat(jt,"_unsent"),function(e){e.SET="$set",e.SET_ONCE="$setOnce",e.ADD="$add",e.APPEND="$append",e.PREPEND="$prepend",e.REMOVE="$remove",e.PREINSERT="$preInsert",e.POSTINSERT="$postInsert",e.UNSET="$unset",e.CLEAR_ALL="$clearAll"}(S||(S={})),function(e){e.REVENUE_PRODUCT_ID="$productId",e.REVENUE_QUANTITY="$quantity",e.REVENUE_PRICE="$price",e.REVENUE_TYPE="$revenueType",e.REVENUE="$revenue"}(k||(k={})),function(e){e.IDENTIFY="$identify",e.GROUP_IDENTIFY="$groupidentify",e.REVENUE="revenue_amount"}(Ut||(Ut={}));var Dt,Ct=function(e){if(Object.keys(e).length>1e3)return!1;for(var t in e){var n=e[t];if(!Mt(t,n))return!1}return!0},Mt=function(e,t){var n,i;if("string"!=typeof e)return!1;if(Array.isArray(t)){var r=!0;try{for(var o=_(t),s=o.next();!s.done;s=o.next()){var u=s.value;if(Array.isArray(u))return!1;if("object"==typeof u)r=r&&Ct(u);else if(!["number","string"].includes(typeof u))return!1;if(!r)return!1}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}else{if(null==t)return!1;if("object"==typeof t)return Ct(t);if(!["number","string","boolean"].includes(typeof t))return!1}return!0},Vt=function(){function e(){this._propertySet=new Set,this._properties={}}return e.prototype.getUserProperties=function(){return W({},this._properties)},e.prototype.set=function(e,t){return this._safeSet(S.SET,e,t),this},e.prototype.setOnce=function(e,t){return this._safeSet(S.SET_ONCE,e,t),this},e.prototype.append=function(e,t){return this._safeSet(S.APPEND,e,t),this},e.prototype.prepend=function(e,t){return this._safeSet(S.PREPEND,e,t),this},e.prototype.postInsert=function(e,t){return this._safeSet(S.POSTINSERT,e,t),this},e.prototype.preInsert=function(e,t){return this._safeSet(S.PREINSERT,e,t),this},e.prototype.remove=function(e,t){return this._safeSet(S.REMOVE,e,t),this},e.prototype.add=function(e,t){return this._safeSet(S.ADD,e,t),this},e.prototype.unset=function(e){return this._safeSet(S.UNSET,e,"-"),this},e.prototype.clearAll=function(){return this._properties={},this._properties[S.CLEAR_ALL]="-",this},e.prototype._safeSet=function(e,t,n){if(this._validate(e,t,n)){var i=this._properties[e];return void 0===i&&(i={},this._properties[e]=i),i[t]=n,this._propertySet.add(t),!0}return!1},e.prototype._validate=function(e,t,n){return void 0===this._properties[S.CLEAR_ALL]&&!this._propertySet.has(t)&&(e===S.ADD?"number"==typeof n:e===S.UNSET||e===S.REMOVE||Mt(t,n))},e}(),qt=function(e){var t=e.split(".");return t.length<=2?e:t.slice(t.length-2,t.length).join(".")},Lt=function(){for(var e,h,n=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var g={},r=Q(t,2),b=r[0],o=r[1];b&&"init"in b?(h=b,o&&(g=o)):b&&(g=b);var s=null!==(e=g.excludeReferrers)&&void 0!==e?e:[];"undefined"!=typeof location&&s.unshift(location.hostname),g=W(W({disabled:!1,initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1},g),{excludeReferrers:s});var u={name:"web-attribution",type:xe.BEFORE,setup:function(f,p){var v;return G(this,void 0,void 0,function(){var r,o,s,u,a,c,l,d;return H(this,function(e){switch(e.label){case 0:return(h=null!=h?h:p)?g.disabled?(f.loggerProvider.log("@amplitude/plugin-web-attribution-browser is disabled. Attribution is not tracked."),[2]):(f.loggerProvider.log("Installing @amplitude/plugin-web-attribution-browser."),p||(null===(v=f.attribution)||void 0===v?void 0:v.disabled)||(f.loggerProvider.warn("@amplitude/plugin-web-attribution-browser overrides web attribution behavior defined in @amplitude/analytics-browser. Resolve by disabling web attribution tracking in @amplitude/analytics-browser."),f.attribution={disabled:!0}),o=f.cookieStorage,t=f.apiKey,void 0===(n="MKTG")&&(n=""),void 0===i&&(i=10),s=[jt,n,t.substring(0,i)].filter(Boolean).join("_"),[4,Promise.all([(new At).parse(),o.get(s)])]):(r=b?"Options":"undefined",f.loggerProvider.error("Argument of type '".concat(r,"' is not assignable to parameter of type 'BrowserClient'.")),[2]);case 1:return u=Q.apply(void 0,[e.sent(),2]),a=u[0],c=u[1],(null!=(l=this.__pluginEnabledOverride)?l:function(e,t,n){e.referrer;var i,r=e.referring_domain,o=K(e,["referrer","referring_domain"]),s=t||{},u=(s.referrer,s.referring_domain),a=K(s,["referrer","referring_domain"]);if(e.referring_domain&&(null===(i=n.excludeReferrers)||void 0===i?void 0:i.includes(e.referring_domain)))return!1;var c=JSON.stringify(o)!==JSON.stringify(a),l=qt(r||"")!==qt(u||"");return!t||c||l}(a,c,g))&&(g.resetSessionOnNewCampaign&&(h.setSessionId(Date.now()),f.loggerProvider.log("Created a new session for new campaign.")),f.loggerProvider.log("Tracking attribution."),d=function(e,s){var t=W(W({},xt),e),n=Object.entries(t).reduce(function(e,t){var n,i=Q(t,2),r=i[0],o=i[1];return e.setOnce("initial_".concat(r),null!==(n=null!=o?o:s.initialEmptyValue)&&void 0!==n?n:"EMPTY"),o?e.set(r,o):e.unset(r)},new Vt);return function(e,t){return W(W({},void 0),{event_type:Ut.IDENTIFY,user_properties:e.getUserProperties()})}(n)}(a,g),h.track(d),o.set(s,a)),[2]}var t,n,i})})},execute:function(t){return G(n,void 0,void 0,function(){return H(this,function(e){return[2,t]})})},__pluginEnabledOverride:void 0};return u};!function(e){e.BEFORE="before",e.ENRICHMENT="enrichment",e.DESTINATION="destination"}(Dt||(Dt={}));var zt,Ft,Bt,$t,Wt=function(){var u=mt();return W(W({},u),{init:function(e,t,n){return void 0===n&&(n={}),i=function(s){return G(void 0,void 0,void 0,function(){var t,i,r,o;return H(this,function(e){switch(e.label){case 0:return t=s.attribution,i=s.pageViewTracking,s.apiKey,s.userId,r=K(s,["attribution","pageViewTracking","apiKey","userId"]),o=r,(null==t?void 0:t.disabled)?[3,2]:[4,u.add(Lt(u,t)).promise];case 1:e.sent(),e.label=2;case 2:return o.attribution={disabled:!0},[4,u.add((n="amplitude-ma-ts/".concat("0.5.4"),{name:"context",type:Dt.ENRICHMENT,setup:function(){return G(void 0,void 0,void 0,function(){return H(this,function(e){return[2,void 0]})})},execute:function(t){return G(void 0,void 0,void 0,function(){return H(this,function(e){return[2,W(W({},t),{library:n})]})})}})).promise];case 3:return e.sent(),delete o.defaultTracking,!0===i?o.defaultTracking={pageViews:{eventType:"Page View"}}:"object"==typeof i&&i&&(o.defaultTracking={pageViews:{trackOn:i.trackOn,trackHistoryChanges:i.trackHistoryChanges,eventType:i.eventType||"Page View"}}),[4,u.init(s.apiKey,s.userId,o).promise];case 4:return e.sent(),[2]}var n})})}(W(W({},n),{userId:t,apiKey:e})),{promise:i||Promise.resolve()};var i}})},T=Wt(),Kt=function(){function e(){this.productId="",this.quantity=1,this.price=0}return e.prototype.setProductId=function(e){return this.productId=e,this},e.prototype.setQuantity=function(e){return e>0&&(this.quantity=e),this},e.prototype.setPrice=function(e){return this.price=e,this},e.prototype.setRevenueType=function(e){return this.revenueType=e,this},e.prototype.setRevenue=function(e){return this.revenue=e,this},e.prototype.setEventProperties=function(e){return Ct(e)&&(this.properties=e),this},e.prototype.getEventProperties=function(){var e=this.properties?W({},this.properties):{};return e[k.REVENUE_PRODUCT_ID]=this.productId,e[k.REVENUE_QUANTITY]=this.quantity,e[k.REVENUE_PRICE]=this.price,e[k.REVENUE_TYPE]=this.revenueType,e[k.REVENUE]=this.revenue,e},e}();!function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Warn=2]="Warn",e[e.Verbose=3]="Verbose",e[e.Debug=4]="Debug"}(zt||(zt={})),function(e){e.US="US",e.EU="EU"}(Ft||(Ft={})),function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.PayloadTooLarge="payload_too_large",e.Invalid="invalid",e.Failed="failed",e.Timeout="Timeout",e.SystemError="SystemError"}(Bt||(Bt={})),function(e){e.XHR="xhr",e.SendBeacon="beacon",e.Fetch="fetch"}($t||($t={}));var Gt=T.add,Ht=T.flush,Qt=T.getDeviceId,Jt=T.getSessionId,Yt=T.getUserId,Zt=T.groupIdentify,Xt=T.identify,en=T.init,tn=T.logEvent,nn=T.remove,rn=T.reset,on=T.revenue,sn=T.setDeviceId,un=T.setGroup,an=T.setOptOut,cn=T.setSessionId,ln=T.setTransport,dn=T.setUserId,fn=T.track},293:function(H,Q,J){var Y;!function(r,d){"use strict";var C="function",o="undefined",f="object",s="string",u="model",a="name",c="type",l="vendor",p="version",v="architecture",e="console",t="mobile",n="tablet",i="smarttv",h="wearable",M="embedded",g="Amazon",b="Apple",V="ASUS",q="BlackBerry",y="Browser",m="Chrome",w="Firefox",_="Google",L="Huawei",E="LG",I="Microsoft",z="Motorola",S="Opera",O="Samsung",F="Sharp",k="Sony",T="Xiaomi",P="Zebra",B="Facebook",R=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},$=function(e,t){return typeof e===s&&-1!==N(t).indexOf(N(e))},N=function(e){return e.toLowerCase()},x=function(e,t){if(typeof e===s)return e=e.replace(/^\s\s*/,""),typeof t===o?e:e.substring(0,350)},A=function(e,t){for(var n,i,r,o,s,u,a=0;a<t.length&&!s;){var c=t[a],l=t[a+1];for(n=i=0;n<c.length&&!s;)if(s=c[n++].exec(e))for(r=0;r<l.length;r++)u=s[++i],typeof(o=l[r])===f&&o.length>0?2===o.length?typeof o[1]==C?this[o[0]]=o[1].call(this,u):this[o[0]]=o[1]:3===o.length?typeof o[1]!==C||o[1].exec&&o[1].test?this[o[0]]=u?u.replace(o[1],o[2]):d:this[o[0]]=u?o[1].call(this,u,o[2]):d:4===o.length&&(this[o[0]]=u?o[3].call(this,u.replace(o[1],o[2])):d):this[o]=u||d;a+=2}},W=function(e,t){for(var n in t)if(typeof t[n]===f&&t[n].length>0){for(var i=0;i<t[n].length;i++)if($(t[n][i],e))return"?"===n?d:n}else if($(t[n],e))return"?"===n?d:n;return e},K={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},G={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[a,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[a,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[a,p],[/opios[\/ ]+([\w\.]+)/i],[p,[a,S+" Mini"]],[/\bopr\/([\w\.]+)/i],[p,[a,S]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[a,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[a,"UC"+y]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[p,[a,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[a,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[a,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[a,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[a,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[a,/(.+)/,"$1 Secure "+y],p],[/\bfocus\/([\w\.]+)/i],[p,[a,w+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[a,S+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[a,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[a,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[a,S+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[a,"MIUI "+y]],[/fxios\/([-\w\.]+)/i],[p,[a,w]],[/\bqihu|(qi?ho?o?|360)browser/i],[[a,"360 "+y]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[a,/(.+)/,"$1 "+y],p],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[a,p],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[a],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[a,B],p],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[a,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[a,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[a,m+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[a,m+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[a,"Android "+y]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[a,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[a,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,a],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[a,[p,W,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[a,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[a,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[a,w+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[a,p],[/(cobalt)\/([\w\.]+)/i],[a,[p,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,N]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,"",N]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,N]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[l,O],[c,n]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[u,[l,O],[c,t]],[/((ipod|iphone)\d+,\d+)/i],[u,[l,b],[c,t]],[/(ipad\d+,\d+)/i],[u,[l,b],[c,n]],[/\((ip(?:hone|od)[\w ]*);/i],[u,[l,b],[c,t]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[l,b],[c,n]],[/(macintosh);/i],[u,[l,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[l,L],[c,n]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[l,L],[c,t]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[u,/_/g," "],[l,T],[c,t]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[l,T],[c,n]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[l,"OPPO"],[c,t]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[l,"Vivo"],[c,t]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[u,[l,"Realme"],[c,t]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[l,z],[c,t]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[l,z],[c,n]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[l,E],[c,n]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[l,E],[c,t]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[l,"Lenovo"],[c,n]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[l,"Nokia"],[c,t]],[/(pixel c)\b/i],[u,[l,_],[c,n]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[l,_],[c,t]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[l,k],[c,t]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[l,k],[c,n]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[l,"OnePlus"],[c,t]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[l,g],[c,n]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[l,g],[c,t]],[/(playbook);[-\w\),; ]+(rim)/i],[u,l,[c,n]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[l,q],[c,t]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[l,V],[c,n]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[l,V],[c,t]],[/(nexus 9)/i],[u,[l,"HTC"],[c,n]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[l,[u,/_/g," "],[c,t]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[l,"Acer"],[c,n]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[l,"Meizu"],[c,t]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[l,F],[c,t]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[l,u,[c,t]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[l,u,[c,n]],[/(surface duo)/i],[u,[l,I],[c,n]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[l,"Fairphone"],[c,t]],[/(u304aa)/i],[u,[l,"AT&T"],[c,t]],[/\bsie-(\w*)/i],[u,[l,"Siemens"],[c,t]],[/\b(rct\w+) b/i],[u,[l,"RCA"],[c,n]],[/\b(venue[\d ]{2,7}) b/i],[u,[l,"Dell"],[c,n]],[/\b(q(?:mv|ta)\w+) b/i],[u,[l,"Verizon"],[c,n]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[l,"Barnes & Noble"],[c,n]],[/\b(tm\d{3}\w+) b/i],[u,[l,"NuVision"],[c,n]],[/\b(k88) b/i],[u,[l,"ZTE"],[c,n]],[/\b(nx\d{3}j) b/i],[u,[l,"ZTE"],[c,t]],[/\b(gen\d{3}) b.+49h/i],[u,[l,"Swiss"],[c,t]],[/\b(zur\d{3}) b/i],[u,[l,"Swiss"],[c,n]],[/\b((zeki)?tb.*\b) b/i],[u,[l,"Zeki"],[c,n]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[l,"Dragon Touch"],u,[c,n]],[/\b(ns-?\w{0,9}) b/i],[u,[l,"Insignia"],[c,n]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[l,"NextBook"],[c,n]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[l,"Voice"],u,[c,t]],[/\b(lvtel\-)?(v1[12]) b/i],[[l,"LvTel"],u,[c,t]],[/\b(ph-1) /i],[u,[l,"Essential"],[c,t]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[l,"Envizen"],[c,n]],[/\b(trio[-\w\. ]+) b/i],[u,[l,"MachSpeed"],[c,n]],[/\btu_(1491) b/i],[u,[l,"Rotor"],[c,n]],[/(shield[\w ]+) b/i],[u,[l,"Nvidia"],[c,n]],[/(sprint) (\w+)/i],[l,u,[c,t]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[l,I],[c,t]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[l,P],[c,n]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[l,P],[c,t]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[l,u,[c,e]],[/droid.+; (shield) bui/i],[u,[l,"Nvidia"],[c,e]],[/(playstation [345portablevi]+)/i],[u,[l,k],[c,e]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[l,I],[c,e]],[/smart-tv.+(samsung)/i],[l,[c,i]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[l,O],[c,i]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[l,E],[c,i]],[/(apple) ?tv/i],[l,[u,b+" TV"],[c,i]],[/crkey/i],[[u,m+"cast"],[l,_],[c,i]],[/droid.+aft(\w)( bui|\))/i],[u,[l,g],[c,i]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[l,F],[c,i]],[/(bravia[\w ]+)( bui|\))/i],[u,[l,k],[c,i]],[/(mitv-\w{5}) bui/i],[u,[l,T],[c,i]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[l,x],[u,x],[c,i]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[c,i]],[/((pebble))app/i],[l,u,[c,h]],[/droid.+; (glass) \d/i],[u,[l,_],[c,h]],[/droid.+; (wt63?0{2,3})\)/i],[u,[l,P],[c,h]],[/(quest( 2)?)/i],[u,[l,B],[c,h]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[l,[c,M]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[u,[c,t]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[c,n]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[c,n]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[c,t]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[l,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[a,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[a,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[a,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,a]],os:[[/microsoft (windows) (vista|xp)/i],[a,p],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[a,[p,W,K]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[a,"Windows"],[p,W,K]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[a,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[a,"Mac OS"],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,a],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[a,p],[/\(bb(10);/i],[p,[a,q]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[a,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[a,w+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[a,"webOS"]],[/crkey\/([\d\.]+)/i],[p,[a,m+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[a,"Chromium OS"],p],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[a,p],[/(sunos) ?([\w\.\d]*)/i],[[a,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[a,p]]},U=function(e,t){if(typeof e===f&&(t=e,e=d),!(this instanceof U))return new U(e,t).getResult();var n=e||(typeof r!==o&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:""),i=t?function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2==0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n}(G,t):G;return this.getBrowser=function(){var e,t={};return t[a]=d,t[p]=d,A.call(t,n,i.browser),t.major=typeof(e=t.version)===s?e.replace(/[^\d\.]/g,"").split(".")[0]:d,t},this.getCPU=function(){var e={};return e[v]=d,A.call(e,n,i.cpu),e},this.getDevice=function(){var e={};return e[l]=d,e[u]=d,e[c]=d,A.call(e,n,i.device),e},this.getEngine=function(){var e={};return e[a]=d,e[p]=d,A.call(e,n,i.engine),e},this.getOS=function(){var e={};return e[a]=d,e[p]=d,A.call(e,n,i.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===s&&e.length>350?x(e,350):e,this},this.setUA(n),this};U.VERSION="0.7.33",U.BROWSER=R([a,p,"major"]),U.CPU=R([v]),U.DEVICE=R([u,l,c,e,t,i,n,h,M]),U.ENGINE=U.OS=R([a,p]),typeof Q!==o?(H.exports&&(Q=H.exports=U),Q.UAParser=U):J.amdO?(Y=function(){return U}.call(Q,J,Q,H))===d||(H.exports=Y):typeof r!==o&&(r.UAParser=U);var j=typeof r!==o&&(r.jQuery||r.Zepto);if(j&&!j.ua){var D=new U;j.ua=D.getResult(),j.ua.get=function(){return D.getUA()},j.ua.set=function(e){D.setUA(e);var t=D.getResult();for(var n in t)j.ua[n]=t[n]}}}("object"==typeof window?window:this)},994:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(951)),r=o(n(974));function o(e){return e&&e.__esModule?e:{default:e}}var s,u=(s=null,function(e,t){t.forceAnonymous?(0,r.default)(t,e):(s||(s=new i.default(t)),s.track(e))});t.default=u,e.exports=t.default},697:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.parseOneTrustCookie=r;var i,o=(i=n(540))&&i.__esModule?i:{default:i},s="OptanonConsent";function r(){var e=(0,o.default)(s,""),r={hasOneTrustCookie:!!e,keyValues:{},groups:{}};return r.hasOneTrustCookie&&(e.split("&").forEach(function(e){var t=e.split("=").map(function(e){return decodeURIComponent(e)}),n=t.shift(),i=!t.length||t.shift();n&&(r.keyValues[n]=i)}),"string"==typeof r.keyValues.groups&&r.keyValues.groups.split(",").forEach(function(e){var t=e.split(":");r.groups[t[0]]="1"===t[1]})),r}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=r(),n=t.hasOneTrustCookie,i=t.groups;return!(e||n&&!0===i.C0003)}},974:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,i=e.amplitudeToken,r=e.user,o=t.data,s=o.amplitudeEvent,u=o.amplitudeUserProperties;if(i&&(null==r||null===(n=r.session)||void 0===n||!n.isAdminImpersonation)&&s){var a=(0,d.prepareEventProperties)(s,o),c=(0,l.v4)();try{navigator.sendBeacon("https://api2.amplitude.com/2/httpapi",JSON.stringify({api_key:i,events:[{device_id:c,user_id:"",event_type:s,event_properties:a,user_properties:u}]}))}catch(e){console.error(e)}}};var l=n(614),d=n(46);e.exports=t.default},46:function(e,t){"use strict";function n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function i(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?n(Object(o),!0).forEach(function(e){var t,n,i;t=r,n=e,i=o[e],(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(n))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}Object.defineProperty(t,"__esModule",{value:!0}),t.cleanEventData=s,t.extractUTParameters=o,t.getPageViewedEventProperties=u,t.prepareEventProperties=function(e,t){var n=s(t);return i(i({},u(e)),n)};var r={utm_adgroup:"utmAdGroup",utm_bu:"utmBu",utm_network:"utmNetwork",ut_source:"utSource",ut_source2:"utSource2",ut_source3:"utSource3"};function o(){var t={},n=new URL(window.location.href).searchParams;return Object.keys(r).forEach(function(e){n.has(e)&&(t[r[e]]=n.get(e))}),t}function s(e){var t=i({},e)||{};return delete t.amplitudeEvent,delete t.amplitudeUserProperties,delete t.actionType,delete t.actionFlow,delete t.disableDA,t}function u(e){var t={};return e.indexOf("page viewed")>-1&&(t=i({urlPath:window.location.pathname,hostName:window.location.hostname},o())),t}},951:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var f=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}(n(764)),o=i(n(697)),s=n(46),u=i(n(540));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function p(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?l(Object(o),!0).forEach(function(e){var t,n,i;t=r,n=e,i=o[e],(n=d(n))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,d(i.key),i)}}function d(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}var v={trackingOptions:{ip_address:!1},transport:f.Types.TransportType.SendBeacon,minIdLength:1},h=function(e,t,n){t&&(n[e]=t)};t.default=function(){function n(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.userProps={},this.config=void 0,this.initialized=!1,this.queuedEvents=[],this.config=e,this.initialize(),window.addEventListener("consent.onetrust",function(){return t.handleConsentChange()})}var e,t;return e=n,(t=[{key:"enabled",get:function(){var e,t=this.config,n=t.amplitudeToken,i=t.user,r=t.overrideOneTrust;return!(!n||null!=i&&null!==(e=i.session)&&void 0!==e&&e.isAdminImpersonation||(0,o.default)(r))}},{key:"initialize",value:function(){var e=this;if(!this.initialized&&this.enabled){var t=this.config,n=t.amplitudeDeviceId,i=t.amplitudeSessionId,r=t.amplitudeToken,o=t.user,s=o.isAuthenticated,u=o.id,a=o.group,c=p({},v);h("deviceId",n,c),h("sessionId",i,c);try{var l,d;f.init(r,void 0,c),s&&(f.setUserId(u),null!=a&&null!==(l=a.membership)&&void 0!==l&&l.groupId&&f.setGroup("teamId",null==a||null===(d=a.membership)||void 0===d?void 0:d.groupId)),this.hydrateDefaultUserProps(),this.sendUserProperties(),document.addEventListener("visibilitychange",function(){return e.flushCache()}),window.addEventListener("pagehide",function(){return e.flushCache()}),window.addEventListener("beforeunload",function(){return e.flushCache()})}catch(e){}this.initialized=!0}else this.enabled||setTimeout(function(){return e.initialize()},1e3)}},{key:"track",value:function(e){var t=e.data,n=t.amplitudeEvent,i=t.amplitudeUserProperties;if(n)if(this.enabled){var r=(0,s.prepareEventProperties)(n,t);i&&this.sendUserProperties(i),f.track(n,p({},r))}else this.queuedEvents.push(e)}},{key:"hydrateDefaultUserProps",value:function(){var e,t,n,i,r=this.config.user,o={};if(r.isAuthenticated&&(h("languageId",null==r?void 0:r.languageId,o),h("userPackageId",null==r?void 0:r.package,o),h("userPackageName",(null==r?void 0:r.packageCanonicalName)||(null==r?void 0:r.packageName),o),h("userSubscriptionStatus",null==r?void 0:r.subscriptionStatus,o),h("dateJoined",null==r?void 0:r.joinedAt,o),h("dateSubscribed",null==r?void 0:r.subscribedAt,o),h("userRole",null===(e=r.group)||void 0===e||null===(t=e.membership)||void 0===t?void 0:t.type,o),h("userDataCenter",null==r?void 0:r.dataCenter,o),r.email)){var s=(n=r.email.split("@"),i=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,s,u=[],a=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;a=!1}else for(;!(a=(i=o.call(n)).done)&&(u.push(i.value),u.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{if(!a&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return u}}(n,i)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1];s&&s.indexOf(".")>-1&&(o.emailDomain=s)}o.userSMSessionId=(0,u.default)("ep201"),o.userSMPersistentId=(0,u.default)("ep202"),this.userProps=o}},{key:"sendUserProperties",value:function(e){if(!this.initialized||e){var t=new f.Identify,n=p(p({},this.userProps),e||{});Object.keys(n).forEach(function(e){t.set(e,n[e])}),f.identify(t)}}},{key:"handleConsentChange",value:function(){var t=this;this.enabled&&(this.initialized||this.initialize(),this.queuedEvents.forEach(function(e){return t.track(e)}),this.queuedEvents=[])}},{key:"flushCache",value:function(){this.enabled&&f.flush()}}])&&r(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),n}(),e.exports=t.default},540:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("object"!=typeof window)return"";for(var n="".concat(e,"="),i=decodeURIComponent(document.cookie).split(";"),r=0;r<i.length;r+=1){for(var o=i[r];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(n))return o.substring(n.length,o.length)}return t||""},e.exports=t.default},614:function(e,t,n){"use strict";var i;n.r(t),n.d(t,{NIL:function(){return N},parse:function(){return l},stringify:function(){return b},v1:function(){return c},v3:function(){return O},v4:function(){return k},v5:function(){return R},validate:function(){return s},version:function(){return x}});var r=new Uint8Array(16);function v(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(r)}for(var o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,s=function(e){return"string"==typeof e&&o.test(e)},u=[],a=0;a<256;++a)u.push((a+256).toString(16).substr(1));var h,g,b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!s(n))throw TypeError("Stringified UUID is invalid");return n},y=0,m=0,c=function(e,t,n){var i=t&&n||0,r=t||new Array(16),o=(e=e||{}).node||h,s=void 0!==e.clockseq?e.clockseq:g;if(null==o||null==s){var u=e.random||(e.rng||v)();null==o&&(o=h=[1|u[0],u[1],u[2],u[3],u[4],u[5]]),null==s&&(s=g=16383&(u[6]<<8|u[7]))}var a=void 0!==e.msecs?e.msecs:Date.now(),c=void 0!==e.nsecs?e.nsecs:m+1,l=a-y+(c-m)/1e4;if(l<0&&void 0===e.clockseq&&(s=s+1&16383),(l<0||a>y)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");y=a,m=c,g=s;var d=(1e4*(268435455&(a+=122192928e5))+c)%4294967296;r[i++]=d>>>24&255,r[i++]=d>>>16&255,r[i++]=d>>>8&255,r[i++]=255&d;var f=a/4294967296*1e4&268435455;r[i++]=f>>>8&255,r[i++]=255&f,r[i++]=f>>>24&15|16,r[i++]=f>>>16&255,r[i++]=s>>>8|128,r[i++]=255&s;for(var p=0;p<6;++p)r[i+p]=o[p];return t||b(r)},l=function(e){if(!s(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};function d(e,s,u){function t(e,t,n,i){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof t&&(t=l(t)),16!==t.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var r=new Uint8Array(16+e.length);if(r.set(t),r.set(e,t.length),(r=u(r))[6]=15&r[6]|s,r[8]=63&r[8]|128,n){i=i||0;for(var o=0;o<16;++o)n[i+o]=r[o];return n}return b(r)}try{t.name=e}catch(e){}return t.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",t.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",t}function f(e){return 14+(e+64>>>9<<4)+1}function p(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function w(e,t,n,i,r,o){return p((s=p(p(t,e),p(i,o)))<<(u=r)|s>>>32-u,n);var s,u}function _(e,t,n,i,r,o,s){return w(t&n|~t&i,e,t,r,o,s)}function E(e,t,n,i,r,o,s){return w(t&i|n&~i,e,t,r,o,s)}function I(e,t,n,i,r,o,s){return w(t^n^i,e,t,r,o,s)}function S(e,t,n,i,r,o,s){return w(n^(t|~i),e,t,r,o,s)}var O=d("v3",48,function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,i="0123456789abcdef",r=0;r<n;r+=8){var o=e[r>>5]>>>r%32&255,s=parseInt(i.charAt(o>>>4&15)+i.charAt(15&o),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[f(t)-1]=t;for(var n=1732584193,i=-271733879,r=-1732584194,o=271733878,s=0;s<e.length;s+=16){var u=n,a=i,c=r,l=o;n=_(n,i,r,o,e[s],7,-680876936),o=_(o,n,i,r,e[s+1],12,-389564586),r=_(r,o,n,i,e[s+2],17,606105819),i=_(i,r,o,n,e[s+3],22,-1044525330),n=_(n,i,r,o,e[s+4],7,-176418897),o=_(o,n,i,r,e[s+5],12,1200080426),r=_(r,o,n,i,e[s+6],17,-1473231341),i=_(i,r,o,n,e[s+7],22,-45705983),n=_(n,i,r,o,e[s+8],7,1770035416),o=_(o,n,i,r,e[s+9],12,-1958414417),r=_(r,o,n,i,e[s+10],17,-42063),i=_(i,r,o,n,e[s+11],22,-1990404162),n=_(n,i,r,o,e[s+12],7,1804603682),o=_(o,n,i,r,e[s+13],12,-40341101),r=_(r,o,n,i,e[s+14],17,-1502002290),n=E(n,i=_(i,r,o,n,e[s+15],22,1236535329),r,o,e[s+1],5,-165796510),o=E(o,n,i,r,e[s+6],9,-1069501632),r=E(r,o,n,i,e[s+11],14,643717713),i=E(i,r,o,n,e[s],20,-373897302),n=E(n,i,r,o,e[s+5],5,-701558691),o=E(o,n,i,r,e[s+10],9,38016083),r=E(r,o,n,i,e[s+15],14,-660478335),i=E(i,r,o,n,e[s+4],20,-405537848),n=E(n,i,r,o,e[s+9],5,568446438),o=E(o,n,i,r,e[s+14],9,-1019803690),r=E(r,o,n,i,e[s+3],14,-187363961),i=E(i,r,o,n,e[s+8],20,1163531501),n=E(n,i,r,o,e[s+13],5,-1444681467),o=E(o,n,i,r,e[s+2],9,-51403784),r=E(r,o,n,i,e[s+7],14,1735328473),n=I(n,i=E(i,r,o,n,e[s+12],20,-1926607734),r,o,e[s+5],4,-378558),o=I(o,n,i,r,e[s+8],11,-2022574463),r=I(r,o,n,i,e[s+11],16,1839030562),i=I(i,r,o,n,e[s+14],23,-35309556),n=I(n,i,r,o,e[s+1],4,-1530992060),o=I(o,n,i,r,e[s+4],11,1272893353),r=I(r,o,n,i,e[s+7],16,-155497632),i=I(i,r,o,n,e[s+10],23,-1094730640),n=I(n,i,r,o,e[s+13],4,681279174),o=I(o,n,i,r,e[s],11,-358537222),r=I(r,o,n,i,e[s+3],16,-722521979),i=I(i,r,o,n,e[s+6],23,76029189),n=I(n,i,r,o,e[s+9],4,-640364487),o=I(o,n,i,r,e[s+12],11,-421815835),r=I(r,o,n,i,e[s+15],16,530742520),n=S(n,i=I(i,r,o,n,e[s+2],23,-995338651),r,o,e[s],6,-198630844),o=S(o,n,i,r,e[s+7],10,1126891415),r=S(r,o,n,i,e[s+14],15,-1416354905),i=S(i,r,o,n,e[s+5],21,-57434055),n=S(n,i,r,o,e[s+12],6,1700485571),o=S(o,n,i,r,e[s+3],10,-1894986606),r=S(r,o,n,i,e[s+10],15,-1051523),i=S(i,r,o,n,e[s+1],21,-2054922799),n=S(n,i,r,o,e[s+8],6,1873313359),o=S(o,n,i,r,e[s+15],10,-30611744),r=S(r,o,n,i,e[s+6],15,-1560198380),i=S(i,r,o,n,e[s+13],21,1309151649),n=S(n,i,r,o,e[s+4],6,-145523070),o=S(o,n,i,r,e[s+11],10,-1120210379),r=S(r,o,n,i,e[s+2],15,718787259),i=S(i,r,o,n,e[s+9],21,-343485551),n=p(n,u),i=p(i,a),r=p(r,c),o=p(o,l)}return[n,i,r,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(f(t)),i=0;i<t;i+=8)n[i>>5]|=(255&e[i/8])<<i%32;return n}(e),8*e.length))}),k=function(e,t,n){var i=(e=e||{}).random||(e.rng||v)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=i[r];return t}return b(i)};function T(e,t,n,i){switch(e){case 0:return t&n^~t&i;case 1:case 3:return t^n^i;case 2:return t&n^t&i^n&i}}function P(e,t){return e<<t|e>>>32-t}var R=d("v5",80,function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var i=unescape(encodeURIComponent(e));e=[];for(var r=0;r<i.length;++r)e.push(i.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),u=new Array(s),a=0;a<s;++a){for(var c=new Uint32Array(16),l=0;l<16;++l)c[l]=e[64*a+4*l]<<24|e[64*a+4*l+1]<<16|e[64*a+4*l+2]<<8|e[64*a+4*l+3];u[a]=c}u[s-1][14]=8*(e.length-1)/Math.pow(2,32),u[s-1][14]=Math.floor(u[s-1][14]),u[s-1][15]=8*(e.length-1)&4294967295;for(var d=0;d<s;++d){for(var f=new Uint32Array(80),p=0;p<16;++p)f[p]=u[d][p];for(var v=16;v<80;++v)f[v]=P(f[v-3]^f[v-8]^f[v-14]^f[v-16],1);for(var h=n[0],g=n[1],b=n[2],y=n[3],m=n[4],w=0;w<80;++w){var _=Math.floor(w/20),E=P(h,5)+T(_,g,b,y)+m+t[_]+f[w]>>>0;m=y,y=b,b=P(g,30)>>>0,g=h,h=E}n[0]=n[0]+h>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+b>>>0,n[3]=n[3]+y>>>0,n[4]=n[4]+m>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}),N="00000000-0000-0000-0000-000000000000",x=function(e){if(!s(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}}},r={};function u(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={exports:{}};return i[e].call(n.exports,n,n.exports,u),n.exports}u.amdO={},u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,{a:t}),t},u.d=function(e,t){for(var n in t)u.o(t,n)&&!u.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},u.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e=u(994),r=u.n(e),o=window,s="__smlib_metrics_registered_subscribers__";!function(t){try{o.SM.MetricsTracker.getConfig(),t()}catch(e){o.document.addEventListener("MetricsInitialized",t)}}(function(){var e,t,n,i;e="amplitude",t=r(),(o[s]||(o[s]={}),o[s])[e]=t,null===(i=null===(n=null==o?void 0:o.SM)||void 0===n?void 0:n.MetricsTracker)||void 0===i||i.addSubscriber(t)})}()}();